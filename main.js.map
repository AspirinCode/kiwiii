{"version":3,"file":"main.js","sources":["../src/helper/KArray.js","../src/helper/definition.js","../src/helper/formatValue.js"],"sourcesContent":["\n\nclass KArray extends Array {\n  /**\n   * Return array of object filtered by given unique key\n   */\n  unique(key) {\n    return this.reduce((a, b) => {\n      if (a.find(e => e[key] === b[key]) === undefined) a.push(b);\n      return a;\n    }, new KArray());\n  }\n\n\n  /**\n   * Merge arrays\n   */\n  extend() {\n    return this.reduce((a, b) => {\n      Array.prototype.push.apply(a, b);\n      return a;\n    }, new KArray());\n  }\n\n\n  // Merge arrays(Asynchronous)\n  extendAsync() {\n    return Promise.all(this).then(res => {\n      return res.reduce((a, b) => {\n        Array.prototype.push.apply(a, b);\n        return a;\n      }, new KArray());\n    });\n  }\n\n  toArray() {\n    return new Array(this);\n  }\n\n  toObject() {\n    const obj = {};\n    this.forEach(kv => {\n      obj[kv[0]] = kv[1];\n    });\n    return obj;\n  }\n}\n\nexport default KArray;\n","\n/** @module helper/definition */\n\n\nfunction defaultFieldProperties(fields) {\n  return fields.map(e => {\n    if (!e.hasOwnProperty('name')) e.name = e.key;\n    if (!e.hasOwnProperty('visible')) e.visible = true;\n    if (e.hasOwnProperty('d3_format')) e.format = 'd3_format';\n    if (!e.hasOwnProperty('format')) e.format = 'raw';\n    return e;\n  });\n}\n\n\nfunction sortType(fmt) {\n  if (['numeric', 'd3_format'].includes(fmt)) return 'numeric';\n  if (['text', 'compound_id'].includes(fmt)) return 'text';\n  return 'none';\n}\n\n\nfunction ongoing(data) {\n  return ['running', 'ready'].includes(data.status);\n}\n\n\nexport default {\n  defaultFieldProperties, sortType, ongoing\n};\n","\n/** @module helper/formatValue */\n\nimport d3 from 'd3';\n\n\n/**\n * Format number\n * @param {object} value - value\n * @param {string} type - si | scientific | rounded | raw\n */\nfunction formatNum(value, d3format) {\n  if (value === undefined || value === null || Number.isNaN(value)) return '';\n  return value == parseFloat(value) ? d3.format(d3format)(value) : value;\n}\n\nfunction partialMatch(query, target) {\n  if (target === undefined || target === null || target === '') return false;\n  return target.toString().toUpperCase()\n    .indexOf(query.toString().toUpperCase()) !== -1;\n}\n\nfunction numericAsc(a, b) {\n  const fa = parseFloat(a);\n  const fb = parseFloat(b);\n  if (isNaN(fa) || isNaN(fb)) {\n    return String(b).localeCompare(String(a));\n  }\n  return fb - fa;\n}\n\n\nfunction numericDesc(a, b) {\n  return numericAsc(b, a);\n}\n\n\nfunction textAsc(a, b) {\n  return String(b).localeCompare(String(a));\n}\n\n\nfunction textDesc(a, b) {\n  return textAsc(b, a);\n}\n\n\nexport default {\n  formatNum, partialMatch,\n  numericAsc, numericDesc, textAsc, textDesc\n};\n"],"names":[],"mappings":"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"}