{"version":3,"file":"kwreport.js","sources":["../src/helper/d3Form.js","../src/helper/definition.js","../src/helper/file.js","../src/fetcher.js","../src/helper/KArray.js","../src/helper/window.js","../src/helper/misc.js","../src/helper/mapper.js","../src/store/IDBStore.js","../src/store/StoreConnection.js","../src/helper/formatValue.js","../src/helper/image.js","../src/component/Component.js","../src/component/Dialog.js","../src/common.js","../src/report.js"],"sourcesContent":["\n/** @module helper/d3Form */\n\nimport d3 from 'd3';\n\n\nfunction value(selector) {\n  return d3.select(selector).node().value;\n}\n\n\nfunction valueInt(selector) {\n  return parseInt(d3.select(selector).node().value);\n}\n\n\nfunction valueFloat(selector) {\n  return parseFloat(d3.select(selector).node().value);\n}\n\n\nfunction checked(selector) {\n  return d3.select(selector).node().checked;\n}\n\n\nfunction firstFile(selector) {\n  return d3.select(selector).node().files[0];\n}\n\n\nfunction checkboxValues(selector) {\n  return d3.selectAll(selector).selectAll('input:checked').nodes().map(e => e.value);\n}\n\n\nfunction optionValues(selector) {\n  return d3.selectAll(selector).selectAll('select').nodes().map(e => e.value);\n}\n\n\nfunction textareaLines(selector) {\n  return d3.select(selector).node().value.split('\\n').filter(e => e.length > 0);\n}\n\n\nfunction optionData(selector) {\n  const si = d3.select(selector).property('selectedIndex');\n  return d3.select(selector).selectAll('option').data().find((d, i) => i === si);\n}\n\n\nfunction checkboxData(selector) {\n  return d3.selectAll(selector).selectAll('input:checked').data();\n}\n\n\nexport default {\n  value, valueInt, valueFloat, checked,\n  firstFile, checkboxValues, optionValues, textareaLines,\n  optionData, checkboxData\n};\n","\n/** @module helper/definition */\n\n\nconst defaultHiddenFields = ['_mw', '_mw_wo_sw', '_logp', '_formula', '_nonH'];\n\n// TODO: timestamp sort\nconst defaultSort = {\n    id: 'text',\n    compound_id: 'text',\n    assay_id: 'text',\n    svg: 'none',\n    json: 'none',\n    plot: 'none',\n    text: 'text',\n    ec50: 'numeric',\n    'active%': 'numeric',\n    'inhibition%': 'numeric',\n    filesize: 'numeric',\n    numeric: 'numeric',\n    count: 'numeric',\n    int: 'numeric',\n    flag: 'numeric',\n    bool: 'numeric',\n    timestamp: 'none',\n    image: 'none',\n    control: 'none',\n    'undefined': 'none'\n};\n\nconst defaultDigit = {\n    id: 'raw',\n    compound_id: 'raw',\n    assay_id: 'raw',\n    svg: 'raw',\n    json: 'raw',\n    plot: 'raw',\n    text: 'raw',\n    ec50: 'scientific',\n    'active%': 'rounded',\n    'inhibition%': 'rounded',\n    filesize: 'si',\n    numeric: 'rounded',\n    count: 'raw',\n    int: 'raw',\n    flag: 'raw',\n    bool: 'raw',\n    timestamp: 'raw',\n    image: 'raw',\n    control: 'raw',\n    'undefined': 'raw'\n};\n\nfunction defaultFieldProperties(fields) {\n  return fields.map(e => {\n    if (!e.hasOwnProperty('name')) e.name = e.key;\n    if (!e.hasOwnProperty('visible')) e.visible = !defaultHiddenFields.includes(e.key);\n    if (!e.hasOwnProperty('sortType')) e.sortType = defaultSort[e.valueType];\n    if (!e.hasOwnProperty('digit')) e.digit = defaultDigit[e.valueType];\n    return e;\n  });\n}\n\nfunction ongoing(data) {\n  return ['running', 'ready'].includes(data.status);\n}\n\n\nexport default {\n  defaultHiddenFields, defaultFieldProperties, ongoing\n};\n","\n/** @module helper/file */\n\nimport pako from 'pako';\n\nimport {default as def} from './definition.js';\n\nconst statusConv = {\n  Queued: 'ready',\n  'In progress': 'running',\n  Aborting: 'running',\n  Aborted: 'aborted',\n  Completed: 'done',\n  Failure: 'failure'\n};\n\nconst dataTypeConv = {\n  datatable: 'nodes',\n  connection: 'edges'\n};\n\nfunction v07_to_v08_nodes(json) {\n  const fields = json.columns.map(e => {\n    e.sortType = e.sort;\n    return e;\n  });\n  return {\n    id: json.id,\n    name: json.name,\n    dataType: dataTypeConv[json.format],\n    schemaVersion: 0.8,\n    revision: 0,\n    status: statusConv[json.status],\n    fields: fields,\n    records: json.records,\n    query: json.query,\n    taskCount: json.searchCount,\n    doneCount: json.searchDoneCount | json.searchCount,\n    resultCount: json.recordCount,\n    progress: json.progress | 100,\n    execTime: json.execTime,\n    created: json.startDate | json.responseDate,\n  };\n}\n\nfunction v07_to_v08_edges(json, nodeFields) {\n  const snp = {\n    fieldTransform: json.snapshot.fieldTransform,\n    nodePositions: json.snapshot.nodePositions,\n    nodeColor: {},\n    nodeSize: {},\n    nodeLabel: {},\n    edge: {}\n  };\n  if (json.snapshot.hasOwnProperty('nodeColor')) {\n    snp.nodeColor.id = json.snapshot.nodeColor.id;\n    snp.nodeColor.scale = json.snapshot.nodeColor.scale;\n    snp.nodeColor.field = nodeFields.find(e => e.key === json.snapshot.nodeColor.column);\n  } else {\n    snp.nodeColor = {\n      id: 'color', field: nodeFields[0],\n      scale: {scale: 'linear', domain: [0, 1], range: ['black', 'white'], unknown: 'gray'}\n    };\n  }\n  if (json.snapshot.hasOwnProperty('nodeSize')) {\n    snp.nodeSize.id = json.snapshot.nodeSize.id;\n    snp.nodeSize.scale = json.snapshot.nodeSize.scale;\n    snp.nodeSize.field = nodeFields.find(e => e.key === json.snapshot.nodeSize.column);\n  } else {\n    snp.nodeSize = {\n      id: 'size', field: nodeFields[0],\n      scale: {scale: 'linear', domain: [0, 1], range: [20, 20], unknown: 20}\n    };\n  }\n  if (json.snapshot.hasOwnProperty('nodeLabel')) {\n    snp.nodeLabel.id = json.snapshot.nodeLabel.id;\n    snp.nodeLabel.size = json.snapshot.nodeLabel.size;\n    snp.nodeLabel.text = json.snapshot.nodeLabel.text;\n    snp.nodeLabel.visible = json.snapshot.nodeLabel.visible;\n    snp.nodeLabel.scale = json.snapshot.nodeLabel.scale;\n    snp.nodeLabel.field = nodeFields.find(e => e.key === json.snapshot.nodeLabel.column);\n  } else {\n    snp.nodeLabel = {\n      id: 'label', size: 12, text: '_index', visible: false, field: nodeFields[0],\n      scale: {scale: 'linear', domain: [0, 1], range: ['black', 'white'], unknown: 'gray'}\n    };\n  }\n  if (json.snapshot.hasOwnProperty('nodeContent')) {\n    snp.nodeContent = json.snapshot.nodeContent;\n  } else {\n    snp.nodeContent = {structure: {visible: false}};\n  }\n  if (json.snapshot.hasOwnProperty('edge')) {\n    snp.edge = json.snapshot.edge;\n  } else {\n    snp.edge = {\n      id: 'label', label: {size: 10, visible: false}, visible: true,\n      scale: {scale: 'linear', domain: [0, 1], range: [5, 5], unknown: 5}\n    };\n  }\n  return {\n    id: json.id,\n    name: json.name,\n    dataType: dataTypeConv[json.format],\n    schemaVersion: 0.8,\n    revision: 0,\n    nodesID: json.nodeTableId,\n    status: statusConv[json.status],\n    fields: def.defaultFieldProperties([\n      {'key': 'source'},\n      {'key': 'target'},\n      {'key': 'weight'}\n    ]),\n    records: json.records,\n    query: json.query,\n    networkThreshold: json.networkThreshold,\n    taskCount: json.searchCount,\n    doneCount: json.searchDoneCount | json.searchCount,\n    resultCount: json.recordCount,\n    progress: json.progress | 100,\n    execTime: json.execTime,\n    created: json.startDate | json.responseDate,\n    snapshot: snp\n  };\n}\n\nfunction v07_to_v08_convert(json) {\n  if (json.hasOwnProperty('edges')) {\n    const nodes = v07_to_v08_nodes(json.nodes);\n    const edges = v07_to_v08_edges(json.edges, nodes.fields);\n    return {nodes: nodes, edges: edges};\n  } else {\n    return v07_to_v08_nodes(json);\n  }\n}\n\n\nfunction readFile(file, sizeLimit, blob) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    const truncated = sizeLimit ? file.slice(0, sizeLimit) : file;\n    reader.onload = event => resolve(event.target.result);\n    reader.onerror = error => reject(error);\n    if (blob) {\n      reader.readAsArrayBuffer(truncated);\n    } else {\n      reader.readAsText(truncated);\n    }\n  });\n}\n\n\nfunction parseJSON(data, compressed) {\n  const text = compressed ? pako.inflate(data, {to: 'string'}) : data;\n  const json = JSON.parse(text);\n  if (json.hasOwnProperty('schemaVersion')) return json;\n  if (json.hasOwnProperty('edges')) {\n    if (json.edges.hasOwnProperty('schemaVersion')) return json;\n  }\n  return v07_to_v08_convert(json);\n}\n\n\nfunction loadJSON(file) {\n  const compressed = file.name.endsWith('c') || file.name.endsWith('.gz');\n  return readFile(file, false, compressed)\n    .then(data => parseJSON(data, compressed));\n}\n\n\nfunction fetchJSON(url) {\n  const decoded = decodeURIComponent(url);\n  const compressed = decoded.endsWith('c') || decoded.endsWith('.gz');\n  return fetch(decoded)\n    .then(res => compressed ? res.arrayBuffer() : res.json())\n    .then(data => parseJSON(data, compressed));\n}\n\n\nfunction downloadDataFile(data, name) {\n  try {\n    // cannot hundle large file with dataURI scheme\n    // url = 'data:application/json,' + encodeURIComponent(JSON.stringify(json))\n    const url = window.URL.createObjectURL(new Blob([data]));\n    const a = document.createElement('a');\n    a.download = name;\n    a.href = url;\n    // a.click() does not work on firefox\n    a.dispatchEvent(new MouseEvent('click', {\n      'view': window,\n      'bubbles': true,\n      'cancelable': false\n    }));\n    // window.URL.revokeObjectURL(url) does not work on firefox\n  } catch (e) {\n    // no DOM (unit testing)\n  }\n}\n\n\nfunction downloadJSON(json, name, compress=true) {\n  const str = JSON.stringify(json);\n  const data = compress ? pako.gzip(str) : str;\n  const c = compress ? 'c' : 'r';\n  const ext = json.hasOwnProperty('edges') ? `.gf${c}` :  `.nd${c}`;\n  downloadDataFile(data, `${name}${ext}`);\n}\n\n\nexport default {\n  readFile, parseJSON, loadJSON, fetchJSON,\n  downloadDataFile, downloadJSON\n};\n","\nconst baseURL = '';\n\nfunction get(url, query={}) {\n  const isEmpty = Object.keys(query).length;\n  const q = isEmpty ? `?query=${JSON.stringify(query)}` : '';\n  return fetch(\n    `${baseURL}${url}${q}`,\n    {\n      credentials: 'include'\n    }\n  ).then(res => {\n    if (res.status !== 200) {\n      return Promise.reject(new Error(res.statusText));\n    }\n    return Promise.resolve(res);\n  });\n}\n\nfunction json(response) {\n  return response.json();\n}\n\nfunction text(response) {\n  return response.text();\n}\n\nfunction blob(response) {\n  return response.blob();\n}\n\nfunction post(url, formdata) {\n  return fetch(\n    `${baseURL}${url}`,\n    {\n      method: 'POST',\n      body: formdata,\n      credentials: 'include'\n    }\n  ).then(res => {\n    if (res.status !== 200) {\n      return Promise.reject(new Error(res.statusText));\n    }\n    return Promise.resolve(res);\n  });\n}\n\n\nfunction error(err) {\n  console.error(err);\n  return null;\n}\n\n\nexport default {\n  get, json, text, blob, post, error\n};\n","\n\nclass KArray extends Array {\n  /**\n   * Return array of object filtered by given unique key\n   */\n  unique(key) {\n    return this.reduce((a, b) => {\n      if (a.find(e => e[key] === b[key]) === undefined) a.push(b);\n      return a;\n    }, new KArray());\n  }\n\n\n  /**\n   * Merge arrays\n   */\n  extend() {\n    return this.reduce((a, b) => {\n      Array.prototype.push.apply(a, b);\n      return a;\n    }, new KArray());\n  }\n\n\n  // Merge arrays(Asynchronous)\n  extendAsync() {\n    return Promise.all(this).then(res => {\n      return res.reduce((a, b) => {\n        Array.prototype.push.apply(a, b);\n        return a;\n      }, new KArray());\n    });\n  }\n\n  toArray() {\n    return new Array(this);\n  }\n\n  toObject() {\n    const obj = {};\n    this.forEach(kv => {\n      obj[kv[0]] = kv[1];\n    });\n    return obj;\n  }\n}\n\nexport default KArray;\n","\nimport KArray from './KArray.js';\n\n\nfunction URLQuery() {\n  return KArray.from(window.location.search.substring(1).split(\"&\"))\n    .map(e => e.split('=')).toObject();\n}\n\n\nexport default {\n  URLQuery\n};\n","\n/** @module helper/parser */\n\nfunction getSDFPropList(str) {\n  const re = />.*?<(\\S+)>/g;\n  const uniqCols = new Set();\n  let arr;\n  while ((arr = re.exec(str)) !== null) {\n    uniqCols.add(arr[1]);\n  }\n  return Array.from(uniqCols);\n}\n\n// Ref. https://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\nfunction uuidv4() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n}\n\n// TODO: not used\nfunction queryFormData(query) {\n  const formData = new FormData();\n  Object.entries(query).forEach(kv => {\n    if (Array.isArray(kv[1])) {\n      kv[1].forEach(e => formData.append(kv[0], e));\n    } else {\n      formData.set(kv[0], kv[1]);\n    }\n  });\n  return formData;\n}\n\n\n// TODO: not used\nfunction queryURL(query) {\n  const queryStr = [];\n  Object.entries(query).forEach(e => {\n    const val = Array.isArray(e[1]) ? JSON.stringify(e[1]) : e[1];\n    const key = e[0];\n    // const encoded = encodeURIComponent(val);\n    queryStr.push(`${key}=${val}`);\n  });\n  return queryStr.join('&');\n}\n\n\n// TODO: not used\nfunction capitalized(str) {\n  return str.replace(/(?:^|\\s)\\S/g, e => e.toUpperCase());\n}\n\n\nexport default {\n  getSDFPropList, uuidv4\n};\n","\n/** @module helper/dataStructure */\n\nimport KArray from './KArray.js';\nimport {default as def} from './definition.js';\n\n\n/**\n * Convert single field mapping to multi field mapping\n * @param {object} mapping - single field mapping\n * @return {object} multi field mapping\n */\nfunction singleToMulti(mapping) {\n  const newMapping = {};\n  Object.entries(mapping.mapping).forEach(m => {\n    newMapping[m[0]] = [m[1]];\n  });\n  return {\n    created: mapping.created,\n    fields: [mapping.field],\n    key: mapping.key,\n    mapping: newMapping\n  };\n}\n\n\n/**\n * Convert field mapping to table\n * @param {object} mapping - field mapping\n * @return {object} table object\n */\nfunction mappingToTable(mapping) {\n  const mp = mapping.hasOwnProperty('field') ? singleToMulti(mapping) : mapping;\n  const keyField = {key: mp.key, valueType: 'text'};\n  const data = {\n    fields: def.defaultFieldProperties([keyField].concat(mp.fields)),\n    records: Object.entries(mp.mapping).map(entry => {\n      const rcd = {};\n      rcd[mp.key] = entry[0];\n      mp.fields.forEach((f, i) => {\n        rcd[f.key] = entry[1][i];\n      });\n      return rcd;\n    })\n  };\n  return data;\n}\n\n\n/**\n * Convert table to field mapping\n * @param {object} table - table\n * @param {object} key - key\n * @return {object} field mapping\n */\nfunction tableToMapping(table, key, ignore=['_index']) {\n  const now = new Date();\n  const mapping = {\n    created: now.toString(),\n    fields: def.defaultFieldProperties(table.fields\n      .filter(e => e.key !== key)\n      .filter(e => !ignore.includes(e.key))),\n    key: key,\n    mapping: {}\n  };\n  table.records.forEach(row => {\n    mapping.mapping[row[key]] = mapping.fields.map(e => row[e.key]);\n  });\n  return mapping;\n}\n\n\n/**\n * Convert csv text to field mapping\n * @param {string} csvString - csv data text\n * @return {object} field mapping\n */\nfunction csvToMapping(csvString) {\n  const lines = csvString.split(/\\n|\\r|\\r\\n/);\n  const header = lines.shift().split(',');\n  const key = header.shift();\n  const now = new Date();\n  const headerIdx = [];\n  const fields = [];\n  header.forEach((h, i) => {\n    if (h === '') return;\n    headerIdx.push(i);\n    fields.push({key: h, valueType: 'text'});\n  });\n  const mapping = {\n    created: now.toString(),\n    fields: def.defaultFieldProperties(fields),\n    key: key,\n    mapping: {}\n  };\n  lines.forEach(line => {\n    const values = line.split(',');\n    const k = values.shift();\n    mapping.mapping[k] = Array(headerIdx.length);\n    headerIdx.forEach(i => {\n      mapping.mapping[k][i] = values[i];\n    });\n  });\n  return mapping;\n}\n\n\n/**\n * Apply mapping to the data (in-place)\n * @param {object} data - datatable JSON\n * @param {object} mapping - mapping JSON\n * @return {undefined} undefined\n */\nfunction apply(data, mapping) {\n  const mp = mapping.hasOwnProperty('field') ? singleToMulti(mapping) : mapping;\n  data.records\n    .filter(rcd => mp.mapping.hasOwnProperty(rcd[mp.key]))\n    .forEach(rcd => {\n      mp.fields.forEach((fd, i) => {\n        rcd[fd.key] = mp.mapping[rcd[mp.key]][i];\n      });\n    });\n  data.fields = def.defaultFieldProperties(\n    KArray.from(data.fields).concat(mp.fields).unique('key'));\n}\n\n\nexport default {\n  singleToMulti, mappingToTable, tableToMapping, csvToMapping, apply\n};\n","\nimport Dexie from 'Dexie';\n\n// TODO: can indexed records improve query performance ?\n\nconst schema = {\n  app: 'key',\n  items: 'id, dataType, created',\n  resources: 'id'\n};\n\nlet idb = new Dexie('Store');\nidb.version(1).stores(schema);\n\n\nfunction getAppSetting(key) {\n  return idb.app.where('key').equals(key).first()\n    .then(res => {\n      if (res === undefined) return undefined;\n      return res.value;\n    });\n}\n\n\nfunction putAppSetting(k, v) {  // returns id in success\n  return idb.app.put({ key: k, value: v });\n}\n\n\nfunction getResources() {\n  return idb.resources.toArray();\n}\n\n\nfunction putResources(data) { // returns last id in success\n  return idb.resources.bulkPut(data);\n}\n\n\nfunction getAllItems() {\n  return idb.items.orderBy('created').reverse()\n    .toArray();\n}\n\n\nfunction getItemsByDataType(type) {\n  return idb.items.where('dataType').equals(type).reverse()\n    .sortBy('created');\n}\n\n\nfunction getItemById(tableId) {\n  return idb.items.where('id').equals(tableId).first();\n}\n\n\nfunction updateItem(tableId, callback) {  // returns num of updated items\n  return idb.items.where('id').equals(tableId).modify(callback);\n}\n\n\nfunction deleteItem(tableId) { // returns num of deleted items\n  return idb.items.where('id').equals(tableId).delete();\n}\n\n\nfunction putItem(data) { // returns id in success\n  return idb.items.put(data);\n}\n\n\nfunction reset() {\n  // Try this before tackling with local db troubles\n  return idb.delete().then(() => {\n    idb = new Dexie('Store');\n    idb.version(1).stores(schema);\n  });\n}\n\nexport default {\n  getAppSetting, putAppSetting, getResources, putResources,\n  getAllItems, getItemsByDataType, getItemById,\n  updateItem, deleteItem, putItem, reset\n};\n","\nimport {default as def} from '../helper/definition.js';\nimport {default as mapper} from '../helper/mapper.js';\nimport {default as store} from './IDBStore.js';\n\n\nfunction getAppSetting(key) {\n  return store.getAppSetting(key)\n    .catch(err => {\n      console.error(`Unexpected key: ${key}`);\n      Promise.reject(err);\n    });\n}\n\n\nfunction setAppSetting(key, value) {\n  return store.putAppSetting(key, value)\n    .catch(err => {\n      console.error(`Unexpected key: ${key} or value: ${value}`);\n      Promise.reject(err);\n    });\n}\n\n\nfunction getResources() {\n  return store.getResources();\n}\n\n\nfunction setResources(rsrcs) {\n  return store.putResources(rsrcs)\n    .catch(err => {\n      console.error(`Unexpected resources: ${rsrcs}`);\n      Promise.reject(err);\n    });\n}\n\n\nfunction getAllTables() {\n  return store.getAllItems();\n}\n\n\nfunction getTablesByDataType(type) {\n  return store.getItemsByDataType(type)\n    .catch(err => {\n      console.error(`Unexpected dataType: ${type}`);\n      Promise.reject(err);\n    });\n}\n\n\nfunction getTable(id) {\n  return store.getItemById(id)\n    .catch(err => {\n      console.error(`Unexpected table ID: ${id}`);\n      Promise.reject(err);\n    });\n}\n\n\nfunction setFieldProperties(id, updates) {\n  return store.updateItem(id, item => {\n    item.fields.forEach((fd, i) => {\n      fd.visible = updates.visibles.includes(fd.key);\n      fd.sortType = updates.sortTypes[i];\n      fd.digit = updates.digits[i];\n    });\n    item.revision++;\n  })\n  .catch(err => {\n    console.error(`Unexpected table ID: ${id} or updates: ${updates}`);\n    Promise.reject(err);\n  });\n}\n\n\nfunction joinFields(id, mapping) {\n  return store.updateItem(id, item => {\n    mapper.apply(item, mapping);\n    item.revision++;\n  })\n  .catch(err => {\n    console.error(`Unexpected table ID: ${id} or mapping: ${mapping}`);\n    Promise.reject(err);\n  });\n}\n\n\nfunction updateTableAttribute(id, key, value) {\n  return store.updateItem(id, item => {\n    item[key] = value;\n    item.revision++;\n  })\n  .catch(err => {\n    console.error(`Unexpected table ID: ${id}, key: ${key} or value: ${value}`);\n    Promise.reject(err);\n  });\n}\n\n\nfunction insertTable(data) {\n  data.fields = def.defaultFieldProperties(data.fields);\n  return store.putItem(data)\n    .catch(err => {\n      console.error(`Unexpected data: ${data}`);\n      Promise.reject(err);\n    });\n}\n\n\nfunction updateTable(data) {\n  if (data.status === 'failure') {  // No data found on server\n    return updateTableAttribute(data.id, 'status', 'failure');\n  }\n  // update\n  return store.updateItem(data.id, item => {\n    data.fields = def.defaultFieldProperties(data.fields);\n    Object.assign(item, data);\n    item.revision++;\n  });\n}\n\n\nfunction deleteTable(id) {\n  return store.deleteItem(id)\n    .catch(err => {\n      console.error(`Unexpected table ID: ${id}`);\n      Promise.reject(err);\n    });\n}\n\n\nfunction reset() {\n  return store.reset();\n}\n\n\nexport default {\n  getAppSetting, setAppSetting, getResources, setResources,\n  getAllTables, getTablesByDataType, getTable,\n  setFieldProperties, joinFields,\n  updateTableAttribute, insertTable, updateTable,\n  deleteTable, reset\n};\n","\n/** @module helper/formatValue */\n\nimport d3 from 'd3';\n\n\n/**\n * Format number\n * @param {object} value - value\n * @param {string} type - si | scientific | rounded | raw\n */\nfunction formatNum(value, type) {\n  const conv = {\n    scientific: \".3e\",\n    si: \".3s\",\n    rounded: \".3r\"\n  };\n  if (type === 'raw') return value;\n  if (value === undefined || value === null || Number.isNaN(value)) return '';\n  return value == parseFloat(value) ? d3.format(conv[type])(value) : value;\n}\n\nfunction partialMatch(query, target) {\n  if (target === undefined || target === null || target === '') return false;\n  return target.toString().toUpperCase()\n    .indexOf(query.toString().toUpperCase()) !== -1;\n}\n\nfunction numericAsc(a, b) {\n  const fa = parseFloat(a);\n  const fb = parseFloat(b);\n  if (isNaN(fa) || isNaN(fb)) {\n    return String(b).localeCompare(String(a));\n  }\n  return fb - fa;\n}\n\n\nfunction numericDesc(a, b) {\n  return numericAsc(b, a);\n}\n\n\nfunction textAsc(a, b) {\n  return String(b).localeCompare(String(a));\n}\n\n\nfunction textDesc(a, b) {\n  return textAsc(b, a);\n}\n\n\nexport default {\n  formatNum, partialMatch,\n  numericAsc, numericDesc, textAsc, textDesc\n};\n","\n/** @module helper/image */\n\nimport vega from 'vega';\n\nfunction showPlot(vegaSpec, selector) {\n  new vega.View(vega.parse(vegaSpec))\n    .initialize(selector)\n    .run();\n}\n\n\nfunction plotThumbnail(vegaSpec) {\n  const view = new vega.View(vega.parse(vegaSpec));\n  return view.toImageURL('png');  // Promise\n}\n\n\nexport default {\n  showPlot, plotThumbnail\n};\n","\n/** @module component/Component */\n\nimport d3 from 'd3';\nimport {default as fmt} from '../helper/formatValue.js';\n\n\nfunction selectOptions(selection, data, key, text) {\n  const options = selection.selectAll('option')\n    .data(data, key);\n  options.exit().remove();\n  options.enter().append('option')\n    .merge(options)\n      .attr('value', key)\n      .text(text);\n}\n\n\nfunction checkboxList(selection, data, name, key, text) {\n  const items = selection.selectAll('li').data(data, key);\n  items.exit().remove();\n  const entered = items.enter().append('li')\n    .attr('class', 'form-check')\n    .append('label');\n  entered.append('input');\n  entered.append('span');\n  const updated = entered.merge(items.select('label'))\n    .attr('class', 'form-check-label');\n  updated.select('input')\n    .attr('type', 'checkbox')\n    .attr('class', 'form-check-input')\n    .attr('name', name)\n    .attr('value', key);\n  updated.select('span')\n    .text(text);\n}\n\n\n// checkbox list with tooltip\n// call $('[data-toggle=\"tooltip\"]').tooltip() after this function\nfunction checkboxListT(selection, data, name, key, text) {\n  const items = selection.selectAll('li').data(data, key);\n  items.exit().remove();\n  const entered = items.enter().append('li')\n    .attr('class', 'form-check')\n    .append('label');\n  entered.append('input');\n  entered.append('a');\n  const updated = entered.merge(items.select('label'))\n    .attr('class', 'form-check-label');\n  updated.select('input')\n    .attr('type', 'checkbox')\n    .attr('class', 'form-check-input')\n    .attr('name', name)\n    .attr('value', key);\n  updated.select('a')\n    .attr('data-toggle', 'tooltip')\n    .attr('data-placement', 'bottom')\n    .attr('title', d => d.description || 'No')\n    .text(text);\n}\n\n\nfunction createTable(selection, data) {\n  // Header\n  if (selection.select('thead').size()) selection.select('thead').remove();\n  selection.append('thead').append('tr');\n  // Records\n  if (selection.select('tbody').size()) selection.select('tbody').remove();\n    selection.append('tbody');\n\n  const cols = data.fields.filter(e => e.visible);\n  const header = selection.select('thead tr').selectAll('th')\n    .data(cols, d => d.key);\n  header.exit().remove();\n  header.enter().append('th')\n    .merge(header)\n      .text(d => d.name);\n}\n\n\nfunction updateTableRecords(selection, rcds, keyFunc) {\n  const header = selection.select('thead tr').selectAll('th')\n    .data();\n  const rowSelection = selection.select('tbody').selectAll('tr')\n    .data(rcds, keyFunc);\n  rowSelection.exit().remove();\n  const rowEntered = rowSelection.enter().append('tr');\n  rowEntered.selectAll('td')\n    .data(d => header.map(e => d[e.key]))\n    .enter().append('td');\n  rowEntered.merge(rowSelection)\n    .selectAll('td')\n      .classed('align-middle', true)\n    .html(function (d, i) {\n      if (d === undefined) return '';\n      if (header[i].valueType === 'plot') return '[plot]';\n      if (header[i].valueType === 'image') return '[image]';\n      if (header[i].valueType === 'control') return;\n      if (header[i].digit !== 'raw') return fmt.formatNum(d, header[i].digit);\n      return d;\n    })\n    .each((d, i, nodes) => {\n      // This should be called after html\n      if (header[i].valueType === 'control') d3.select(nodes[i]).call(d);\n    });\n}\n\n\nfunction appendTableRows(selection, rcds, keyFunc) {\n  const newRcds = selection.select('tbody').selectAll('tr').data();\n  Array.prototype.push.apply(newRcds, rcds);\n  updateTableRecords(selection, newRcds, keyFunc);\n}\n\n\nfunction addSort(selection) {\n  selection.select('thead tr').selectAll('th')\n    .filter(d => d.sortType !== 'none')\n    .append('span').append('a')\n      .attr('id', d => `sort-${d.key}`)\n      .text('^v')\n      .style('display', 'inline-block')\n      .style('width', '30px')\n      .style('text-align', 'center')\n    .on('click', d => {\n      const isAsc = d3.select(`#sort-${d.key}`).text() === 'v';\n      const isNum = d.sortType === 'numeric';\n      const cmp = isAsc\n        ? (isNum ? fmt.numericAsc : fmt.textAsc)\n        : (isNum ? fmt.numericDesc : fmt.textDesc);\n      selection.select('tbody').selectAll('tr')\n        .sort((a, b) => cmp(a[d.key], b[d.key]));\n      d3.select(`#sort-${d.key}`)\n        .text(isAsc ? '^' : 'v');\n    });\n}\n\n\nfunction formatNumbers(selection) {\n  // DEPRECATED: no longer used\n  selection.select('thead tr').selectAll('th')\n    .each((col, colIdx) => {\n      if (col.digit === 'raw') return;\n      selection.select('tbody').selectAll('tr')\n        .selectAll('td')\n          .filter((d, i) => i === colIdx)\n          .text(d => fmt.formatNum(d, col.digit));\n    });\n}\n\n\nexport default {\n  selectOptions, checkboxList, checkboxListT,\n  createTable, updateTableRecords,\n  appendTableRows, addSort, formatNumbers\n};\n","\n/** @module component/Dialog */\n\nimport d3 from 'd3';\n\nimport KArray from '../helper/KArray.js';\nimport {default as d3form} from '../helper/d3Form.js';\nimport {default as mapper} from '../helper/mapper.js';\nimport {default as def} from '../helper/definition.js';\nimport {default as fmt} from '../helper/formatValue.js';\nimport {default as win} from '../helper/window.js';\nimport {default as hfile} from '../helper/file.js';\nimport {default as misc} from '../helper/misc.js';\nimport {default as himg} from '../helper/image.js';\nimport {default as store} from '../store/StoreConnection.js';\nimport {default as cmp} from './Component.js';\nimport {default as fetcher} from '../fetcher.js';\n\n\nfunction pickDialog(resources, callback) {\n  store.getAppSetting('compoundIDPlaceholder').then(ids => {\n    d3.select('#pick-queryarea').text(ids);\n  });\n  d3.select('#pick-submit')\n    .on('click', () => {\n      d3.select('#loading-circle').style('display', 'inline');\n      const query = {\n        type: 'chemsearch',\n        targets: resources.filter(e => e.domain === 'chemical').map(e => e.id),\n        key: 'compound_id',\n        values: d3form.textareaLines('#pick-queryarea')\n      };\n      return fetcher.get('run', query)\n        .then(fetcher.json)\n        .then(callback, fetcher.error);\n    });\n}\n\n\nfunction propDialog(resources, callback) {\n  d3.select('#prop-targets')\n    .call(cmp.checkboxList, resources, 'targets', d => d.id, d => d.name)\n    .on('change', function () {\n      const cols = KArray.from(d3form.checkboxData('#prop-targets'))\n        .map(d => d.fields)\n        .extend().unique('key');\n      d3.select('#prop-key')\n        .call(cmp.selectOptions, cols, d => d.key, d => d.name);\n    });\n  d3.select('#prop-submit')\n    .on('click', () => {\n      d3.select('#loading-circle').style('display', 'inline');\n      const query = {\n        type: 'chemprop',\n        targets: d3form.checkboxValues('#prop-targets'),\n        key: d3form.optionData('#prop-key').key,\n        values: d3form.textareaLines('#prop-queryarea'),\n        operator: d3form.value('#prop-operator')\n      };\n      return fetcher.get('async', query)\n        .then(fetcher.json)\n        .then(callback, fetcher.error);\n    });\n}\n\n\nfunction structDialog(resources, callback) {\n  d3.select('#struct-qsrc')\n    .call(cmp.selectOptions, resources, d => d.id, d => d.name);\n  d3.select('#struct-targets')\n    .call(cmp.checkboxList, resources, 'targets', d => d.id, d => d.name);\n  store.getAppSetting('rdkit').then(rdk => {\n    d3.select('#struct-method').selectAll('option.rd')\n      .attr('disabled', rdk ? null : 'disabled');\n  });\n  d3.selectAll('#struct-method,#struct-thldtype')\n    .on('change', function () {\n      const method = d3form.value('#struct-method');\n      const thldtype = d3form.value('#struct-thldtype');\n      d3.select('#struct-thld')\n        .attr('disabled', ['gls', 'rdmorgan', 'rdfmcs'].includes(method) ? null : 'disabled')\n        .attr('value', thldtype === 'edge' ? 15 : 0.7)\n        .attr('min', thldtype === 'edge' ? 5 : 0)\n        .attr('max', thldtype === 'edge' ? 999 : 1.0)\n        .attr('step', thldtype === 'edge' ? 1 : 0.01);\n      d3.select('#struct-thldtype')\n        .attr('disabled', ['gls', 'rdmorgan', 'rdfmcs'].includes(method) ? null : 'disabled')\n        .property('value', ['gls', 'rdfmcs'].includes(method) ? undefined : 'sim');\n      d3.select('#struct-thldtype option.sim')\n        .attr('disabled', ['gls', 'rdmorgan', 'rdfmcs'].includes(method) ? null : 'disabled');\n      d3.select('#struct-thldtype option.edge')\n        .attr('disabled', ['gls', 'rdfmcs'].includes(method) ? null : 'disabled');\n      d3.select('#struct-options').selectAll('.gls')\n        .attr('disabled', method === 'gls' ? null : 'disabled');\n      d3.select('#struct-options .fmcs')\n        .attr('disabled', method === 'rdfmcs' ? null : 'disabled');\n    })\n    .dispatch('change');\n  d3.select('#struct-format')\n    .on('change', function () {\n      d3.select('#struct-qsrc')\n        .attr('disabled', this.value === 'dbid' ? null : 'disabled');\n    });\n  d3.select('#struct-preview')\n    .on('click', () => {\n      const fmt = d3form.value('#struct-format');\n      const query = {\n        format: fmt,\n        source: fmt === 'dbid' ? d3form.value('#struct-qsrc') : null,\n        value: fmt === 'molfile'\n          ? d3form.value('#struct-queryarea') : d3form.textareaLines('#struct-queryarea')[0],\n      };\n      return fetcher.get('strprev', query)\n        .then(fetcher.text)\n        .then(res => d3.select('#struct-image').html(res), fetcher.error);\n    });\n  d3.select('#struct-submit')\n    .on('click', () => {\n      const method = d3form.value('#struct-method');\n      d3.select('#loading-circle').style('display', 'inline');\n      const fmt = d3form.value('#struct-format');\n      const query = {\n        type: d3form.value('#struct-method'),\n        targets: d3form.checkboxValues('#struct-targets'),\n        queryMol: {\n          format: fmt,\n          source: fmt === 'dbid' ? d3form.value('#struct-qsrc') : null,\n          value: fmt === 'molfile'\n            ? d3form.value('#struct-queryarea') : d3form.textareaLines('#struct-queryarea')[0]\n        },\n        params: {\n          measure: d3form.value('#struct-thldtype'),\n          threshold: d3form.valueFloat('#struct-thld'),\n          ignoreHs: d3form.checked('#struct-ignoreh'),\n          diameter: method === 'gls' ? d3form.valueInt('#struct-diam') : null,\n          maxTreeSize: method === 'gls' ? d3form.valueInt('#struct-tree') : null,\n          molSizeCutoff: method === 'gls' ? d3form.valueInt('#struct-skip') : null,\n          timeout: method === 'rdfmcs' ? d3form.valueInt('#struct-timeout') : null\n        }\n      };\n      const command = query.type === 'exact' ? 'run' : 'async';\n      return fetcher.get(command, query)\n        .then(fetcher.json)\n        .then(callback, fetcher.error);\n    });\n}\n\n\nfunction sdfDialog(callback) {\n  d3.select('#sdf-file')\n    .on('change', () => {\n      const reader = new FileReader();\n      const file = document.getElementById('sdf-file').files[0];\n      reader.onload = (e) => {\n        d3.select('#sdf-cols')\n          .call(cmp.checkboxList, misc.getSDFPropList(e.target.result),\n                'fields', d => d, d => d\n          );\n      };\n      // Scan only first 100mb of the file due to memory limit.\n      reader.readAsText(file.slice(0, 100 * 1024 * 1024));\n    });\n  d3.select('#sdf-selectall')\n    .on('change', () => {\n      d3.select('#sdf-cols').selectAll('input')\n        .property('checked', d3form.checked('#sdf-selectall'));\n    });\n  d3.select('#sdf-submit')\n    .on('click', () => {\n      d3.select('#loading-circle').style('display', 'inline');\n      const params = {\n        fields: d3form.checkboxValues('#sdf-cols'),\n        implh: d3form.checked('#sdf-implh'),\n        recalc: d3form.checked('#sdf-recalc')\n      };\n      const formData = new FormData();\n      formData.append('contents', d3form.firstFile('#sdf-file'));\n      formData.append('params', JSON.stringify(params));\n      return fetcher.post('sdfin', formData)\n        .then(fetcher.json)\n        .then(callback, fetcher.error);\n    });\n}\n\n\nfunction columnDialog(dataFields, callback) {\n  const table = {\n    fields: def.defaultFieldProperties([\n      {key: 'name', valueType: 'text'},\n      {key: 'visible', valueType: 'control'},\n      {key: 'sortType', valueType: 'control'},\n      {key: 'digit', valueType: 'control'}\n    ])\n  };\n  const records = dataFields.map((e, i) => {\n    return {\n      key: e.key,\n      name: e.name,\n      visible: selection => selection\n          .classed('column-vis', true)\n          .classed(`row${i}`, true)\n        .append('input')\n          .attr('type', 'checkbox')\n          .attr('value', e.key)\n          .property('checked', e.visible)\n      ,sortType: selection => selection\n          .classed('column-sort', true)\n          .classed(`row${i}`, true)\n        .append('select')\n          .call(cmp.selectOptions,\n                e.sortType === 'none' ? ['none'] : ['numeric', 'text'], d => d, d => d)\n          .property('value', e.sortType)\n          .on('change', function () {\n            d3.select(`.column-digit.row${i} select`)\n              .attr('disabled', this.value === 'numeric' ? null : 'disabled');\n          })\n      ,digit: selection => selection\n          .classed('column-digit', true)\n          .classed(`row${i}`, true)\n        .append('select')\n          .call(cmp.selectOptions, ['raw', 'rounded', 'scientific', 'si'], d => d, d => d)\n          .property('value', e.digit)\n          .attr('disabled', e.sortType === 'numeric' ? null : 'disabled')\n    };\n  });\n  d3.select('#column-table')\n    .call(cmp.createTable, table)\n    .call(cmp.updateTableRecords, records, d => d.key);\n  d3.select('#column-submit')\n    .on('click', () => {\n      const query = {\n        visibles: d3form.checkboxValues('.column-vis'),\n        sortTypes: d3form.optionValues('.column-sort'),\n        digits: d3form.optionValues('.column-digit')\n      };\n      return store.setFieldProperties(win.URLQuery().id, query)\n        .then(callback);\n    });\n}\n\n\n// TODO:\nfunction fieldFetchDialog(compoundIDs, dataFields, resources, callback) {\n  // Prevent implicit submission\n  document.getElementById('join-search')\n    .addEventListener('keypress', event => {\n      if (event.keyCode === 13) event.preventDefault();\n    });\n  const dataKeys = dataFields.map(e => e.key);\n  const resourceFields = KArray.from(resources.map(e => e.fields))\n    .extend().unique('key').filter(e => e.key !== 'id');\n  d3.select('#join-keys')\n    .call(cmp.checkboxList, resourceFields, 'keys', d => d.key, d => d.name)\n    .selectAll('li')\n    .each(function(d) { // disable already shown columns\n      d3.select(this).selectAll('label').select('input')\n        .property('checked', dataKeys.includes(d.key))\n        .attr('disabled', dataKeys.includes(d.key) ? 'disabled' : null);\n    });\n  d3.select('#join-search')\n    .on('keyup', function () {\n      const match = d => fmt.partialMatch(d3form.value(this), d.name);\n      d3.select('#join-keys').selectAll('li')\n        .style('visibility', d => match(d) ? null : 'hidden')\n        .style('position', d => match(d) ? null : 'absolute');\n    });\n  d3.select('#join-submit')\n    .on('click', () => {\n      d3.select('#loading-circle').style('display', 'inline');\n      const selected = d3form.checkboxValues('#join-keys');\n      const queryFieldKeys = resourceFields.map(e => e.key)\n        .filter(e => !dataKeys.includes(e))\n        .filter(e => selected.includes(e));\n      const query = {\n        type: 'fieldfilter',\n        targetFields: queryFieldKeys,\n        key: 'compound_id',\n        values: compoundIDs\n      };\n      return fetcher.get('run', query)\n        .then(fetcher.json)\n        .then(json => callback(mapper.tableToMapping(json, 'id')),\n              fetcher.error);\n  });\n}\n\n\nfunction fieldFileDialog(callback) {\n  // TODO: need to refactor\n  d3.select('#importcol-file')\n    .on('change', () => {\n      const file = document.getElementById('importcol-file').files[0];\n      const isCsv = file.name.split('.').pop() === 'csv';\n      hfile.readFile(file).then(res => {\n        const mapping = isCsv ? mapper.csvToMapping(res) : JSON.parse(res);\n        const tbl = mapper.mappingToTable(mapping);\n        d3.select('#importcol-preview').call(cmp.createTable, tbl)\n          .call(cmp.updateTableRecords,\n                tbl.records.slice(0, 5), d => d[tbl.fields[0].key]);\n        // bind mapping\n        d3.select('#importcol-preview').datum(mapping);\n      });\n    });\n  d3.select('#importcol-submit')\n    .on('click', () => {\n      let mapping = d3.select('#importcol-preview').datum();\n      d3.select('#importcol-preview').datum(null);  // unbind mapping\n      // Generate thumbnails\n      const plotCols = [];\n      if (mapping.hasOwnProperty('field')) {\n        mapping = mapper.singleToMulti(mapping);\n      }\n      mapping.fields.forEach((e, i) => {\n        if (e.valueType === 'plot') {\n          mapping.fields[i].valueType = 'image';\n          plotCols.push(i);\n        }\n      });\n      if (plotCols.length > 0) {\n        const ps = [];\n        Object.entries(mapping.mapping).forEach(m => {\n          plotCols.forEach(e => {\n            const p = himg.plotThumbnail(m[1][e])\n              .then(img => {\n                mapping.mapping[m[0]][e] = img;\n              });\n            ps.push(p);\n          });\n        });\n        Promise.all(ps).then(() => callback(mapping));\n      } else {\n        callback(mapping);\n      }\n    });\n}\n\n\nfunction graphDialog(callback) {\n  store.getAppSetting('rdkit').then(rdk => {\n    d3.select('#graph-measure').selectAll('option.rd')\n      .attr('disabled', rdk ? null : 'disabled');\n  });\n  d3.select('#graph-measure')\n    .on('change', function () {\n      d3.select('#graph-options').selectAll('.gls')\n        .attr('disabled', this.value === 'gls' ? null : 'disabled');\n      d3.select('#graph-options').selectAll('.fmcs')\n        .attr('disabled', this.value === 'rdfmcs' ? null : 'disabled');\n    });\n  d3.select('#graph-submit')\n    .on('click', () => {\n      d3.select('#loading-circle').style('display', 'inline');\n      const measure = d3form.value('#graph-measure');\n      const params = {\n        measure: measure,\n        threshold: d3form.valueFloat('#graph-thld'),\n        ignoreHs: d3form.checked('#graph-ignoreh'),\n        diameter: measure === 'gls' ? d3form.valueInt('#graph-diam') : null,\n        maxTreeSize: measure === 'gls' ? d3form.valueInt('#graph-tree') : null,\n        molSizeCutoff: measure === 'gls' ? d3form.valueInt('#graph-skip') : null,\n        timeout: measure === 'rdfmcs' ? d3form.valueInt('#graph-timeout') : null\n      };\n      callback(params);\n    });\n}\n\n\nfunction graphConfigDialog(currentThld, minThld, callback) {\n  d3.select('#graphconfig-thld')\n    .attr('value', currentThld)\n    .attr('max', 1.0)\n    .attr('min', minThld);\n  d3.select('#graphconfig-submit')\n    .on('click', () => {\n      const newThld = d3form.valueFloat('#graphconfig-thld');\n      if (newThld < minThld) return;  // TODO: fool proof\n      callback(newThld);\n    });\n}\n\n\nfunction communityDialog(callback) {\n  d3.select('#community-name').attr('value', 'comm_');\n  d3.select('#community-submit')\n    .on('click', () => {\n      const query = {\n        name: d3form.value('#community-name'),\n        nulliso: d3form.checked('#community-nulliso')\n      };\n      callback(query);\n    });\n}\n\n\nfunction importConfirmDialog(callback) {\n  d3.select('#importconfirm-overwrite')\n    .on('click', () => callback('overwrite'));\n  d3.select('#importconfirm-keepboth')\n    .on('click', () => callback('keepboth'));\n  d3.select('#importconfirm-cancel')\n    .on('click', () => callback('cancel'));\n}\n\n\nexport default {\n  pickDialog, propDialog, structDialog, sdfDialog,\n  columnDialog, fieldFetchDialog, fieldFileDialog, graphDialog,\n  graphConfigDialog, communityDialog, importConfirmDialog\n};\n","\nimport {default as def} from './helper/definition.js';\nimport {default as win} from './helper/window.js';\nimport {default as misc} from './helper/misc.js';\nimport {default as store} from './store/StoreConnection.js';\nimport {default as dialog} from './component/Dialog.js';\nimport {default as fetcher} from './fetcher.js';\n\n\nfunction interactiveInsert(data) {\n  return store.getTable(data.id)\n    .then(found => {\n      if (!found) return Promise.resolve(data); // no existing table\n      if (data.revision == found.revision) return Promise.reject(data.id); // same revision\n      // data id conflict\n      $('#importconfirm-dialog').modal('toggle');\n      return new Promise(res => {\n        dialog.importConfirmDialog(action => {\n          if (action === 'overwrite') {\n            res(data);\n          }\n          if (action === 'keepboth') {\n            data.id = misc.uuidv4();\n            res(data);\n          }\n        });\n      });\n    })\n    .then(\n      data => store.insertTable(data).then(() => data.id), // insert or update table\n      id => {\n        if (id) return Promise.resolve(id); // same revision -> call existing table\n        return Promise.reject();\n      }\n    );\n}\n\n\nfunction fetchResults(command='update') {\n  return store.getTable(win.URLQuery().id)\n    .then(data => {\n      if (!def.ongoing(data)) return Promise.reject();\n      return data;\n    })\n    .then(data => {\n      const query = {id: data.id, command: command};\n      return fetcher.get('res', query)\n        .then(fetcher.json)\n        .then(store.updateTable, fetcher.error);\n    }, () => Promise.resolve());\n}\n\n\nfunction loader() {\n  /*\n  if (document.location.protocol === \"file:\") {\n    console.info('Off-line mode (local file)');\n    store.setGlobalConfig('onLine', false);\n    return Promise.resolve();\n  }\n  if ('onLine' in navigator) {\n    if (!navigator.onLine) {\n      console.info('Off-line mode (no internet connection)');\n      store.setGlobalConfig('onLine', false);\n      return Promise.resolve();\n    }\n  }*/\n  if ('serviceWorker' in navigator && !debug) {\n    navigator.serviceWorker\n      .register('sw.js')\n      .then(reg => {\n        console.info('ServiceWorker registration successful with scope: ', reg.scope);\n      }).catch(err => {\n        console.info('ServiceWorker registration failed: ', err);\n      });\n  } else if (debug) {\n    console.info('Off-line mode is disabled for debugging');\n  } else {\n    console.info('Off-line mode is not supported');\n  }\n  const server = fetcher.get('server')\n    .then(fetcher.json)\n    .catch(() => null);\n  const local = store.getAppSetting('serverInstance');\n  return Promise.all([server, local]).then(ps => {\n    const serverStatus = ps[0];\n    const clientInstance = ps[1];\n    if (!serverStatus) return Promise.resolve(null);\n    if (serverStatus.instance === clientInstance) {\n      console.info('Resource schema is already up to date');\n      return Promise.resolve(serverStatus);\n    } else {\n      return fetcher.get('schema')\n        .then(fetcher.json)\n        .then(schema => {\n          console.info(`New resource schema version: ${serverStatus.instance}`);\n          return Promise.all([\n            store.setResources(schema.resources),\n            store.setAppSetting('templates', schema.templates),\n            store.setAppSetting(\n              'compoundIDPlaceholder', schema.compoundIDPlaceholder),\n            store.setAppSetting('serverInstance', serverStatus.instance),\n            store.setAppSetting('rdkit', serverStatus.rdkit)\n          ])\n          .then(() => Promise.resolve(serverStatus));\n        }, fetcher.error);\n    }\n  });\n}\n\n\nexport default {\n  interactiveInsert, fetchResults, loader\n};\n","\nimport d3 from 'd3';\nimport {default as d3form} from './helper/d3Form.js';\nimport {default as hfile} from './helper/file.js';\nimport {default as fetcher} from './fetcher.js';\nimport {default as common} from './common.js';\nimport {default as store} from './store/StoreConnection.js';\nimport {default as cmp} from './component/Component.js';\n\n\nd3.select('#refids-submit').on('click', () => {\n  const qcsIDs = d3form.textareaLines('#refids');\n  fetcher.get('./screener/qcs', {refIDs: qcsIDs})\n    .then(fetcher.json)\n    .then(qcsInfo => {\n      const qcsData = {\n        fields: [\n          {key: \"QCSRefId\"},\n          {key: \"Name\"}\n        ],\n        records: []\n      };\n      const layerSize = [];\n      qcsInfo.forEach(q => {\n        const row = {QCSRefId: q.qcsRefId, Name: q.name};\n        q.layers.forEach(y => {\n          // const type = y.type;\n          // layerIndex starts with 0, but Index shown in Analyser starts with 1.\n          row[`Layer${y.layerIndex + 1}`] = y.name;\n        });\n        layerSize.push(q.layers.length);\n        qcsData.records.push(row);\n      });\n      const layerMax = Math.max.apply(null, layerSize);\n      const valueSelector = {Name: '<b>Values</b>'};\n      const statSelector = {Name: '<b>Statistics</b>'};\n      for (let i = 0; i < layerMax; i++) {\n        qcsData.fields.push({key: `Layer${i + 1}`});\n        valueSelector[`Layer${i + 1}`] = `<span class=\"vidx\"><input type=\"checkbox\" value=\"${i}\"></span>`;\n        statSelector[`Layer${i + 1}`] = `<span class=\"sidx\"><input type=\"checkbox\" value=\"${i}\"></span>`;\n      }\n      qcsData.records.push(valueSelector);\n      qcsData.records.push(statSelector);\n      return qcsData;\n    }).then(qcsData => {\n      d3.select('#qcs-table').call(cmp.createTable, qcsData)\n        .call(cmp.updateTableRecords, qcsData.records, d => d.QCSRefId);\n      d3.select('#qcs-table').selectAll('input')\n        .on('click', () => {\n          const vsel = d3form.checkboxValues(\".vidx\");\n          const ssel = d3form.checkboxValues(\".sidx\");\n          const anyChecked = vsel.length + ssel.length > 0 ? null : 'disabled';\n          d3.select('#preview-submit').attr('disabled', anyChecked);\n          d3.select('#report-submit').attr('disabled', anyChecked);\n        });\n    });\n});\n\n\nd3.select('#preview-submit')\n  .on('click', () => {\n    const query = {\n      qcsid: d3.select('#qcs-table tbody').selectAll('tr').data()[0].QCSRefId,\n      template: d3form.value('#templates'),\n      vsel: d3form.checkboxValues(\".vidx\")\n    };\n    return fetcher.get('./screener/reportprev', query)\n      .then(fetcher.json)\n      .then(data => {\n        d3.select('#preview-desc').style('display', 'block');\n        d3.select('#preview-table').call(cmp.createTable, data)\n          .call(cmp.updateTableRecords, data.records, d => d.compoundId);\n      });\n  });\n\n\nd3.select('#report-submit')\n  .on('click', () => {\n    const query = {\n      qcsid: d3.select('#qcs-table tbody').selectAll('tr').data()[0].QCSRefId,\n      template: d3form.value('#templates'),\n      vsel: d3form.checkboxValues(\".vidx\"),\n      ssel: d3form.checkboxValues(\".sidx\")\n    };\n    return fetcher.get('./screener/report', query)\n      .then(fetcher.json)\n      .then(data => {\n        hfile.downloadDataFile(data, `${query.qcsid}.xlsx`);\n      });\n  });\n\n\nd3.select('#refids')\n  .on('input', () => {\n    d3.select('#refids-submit').attr('disabled',\n      d3form.value('#refids').length === 0 ? 'disabled' : null\n    );\n  });\nd3.select('#refids-submit').attr('disabled',\n  d3form.value('#refids').length === 0 ? 'disabled' : null\n);\n\n\nfunction run() {\n  return common.loader().then(() => {\n    return store.getAppSetting('templates').then(tmpls => {\n      d3.select('#templates')\n        .call(cmp.selectOptions, [{ name: '<No template>' }].concat(tmpls),\n              d => d.sourceFile, d => d.name);\n    });\n  });\n\n}\n\n\nexport default {\n  run\n};\n"],"names":["getAppSetting","getResources","reset","store","fmt"],"mappings":";;;;;;;;;;;;;;AACA;;AAEA,AAGA,SAAS,KAAK,CAAC,QAAQ,EAAE;EACvB,OAAO,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC;CACzC;;;AAGD,SAAS,QAAQ,CAAC,QAAQ,EAAE;EAC1B,OAAO,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC;CACnD;;;AAGD,SAAS,UAAU,CAAC,QAAQ,EAAE;EAC5B,OAAO,UAAU,CAAC,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC;CACrD;;;AAGD,SAAS,OAAO,CAAC,QAAQ,EAAE;EACzB,OAAO,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,OAAO,CAAC;CAC3C;;;AAGD,SAAS,SAAS,CAAC,QAAQ,EAAE;EAC3B,OAAO,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;CAC5C;;;AAGD,SAAS,cAAc,CAAC,QAAQ,EAAE;EAChC,OAAO,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC;CACpF;;;AAGD,SAAS,YAAY,CAAC,QAAQ,EAAE;EAC9B,OAAO,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC;CAC7E;;;AAGD,SAAS,aAAa,CAAC,QAAQ,EAAE;EAC/B,OAAO,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;CAC/E;;;AAGD,SAAS,UAAU,CAAC,QAAQ,EAAE;EAC5B,MAAM,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC;EACzD,OAAO,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;CAChF;;;AAGD,SAAS,YAAY,CAAC,QAAQ,EAAE;EAC9B,OAAO,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC,IAAI,EAAE,CAAC;CACjE;;;AAGD,aAAe;EACb,KAAK,EAAE,QAAQ,EAAE,UAAU,EAAE,OAAO;EACpC,SAAS,EAAE,cAAc,EAAE,YAAY,EAAE,aAAa;EACtD,UAAU,EAAE,YAAY;CACzB,CAAC;;AC5DF;;;AAGA,MAAM,mBAAmB,GAAG,CAAC,KAAK,EAAE,WAAW,EAAE,OAAO,EAAE,UAAU,EAAE,OAAO,CAAC,CAAC;;;AAG/E,MAAM,WAAW,GAAG;IAChB,EAAE,EAAE,MAAM;IACV,WAAW,EAAE,MAAM;IACnB,QAAQ,EAAE,MAAM;IAChB,GAAG,EAAE,MAAM;IACX,IAAI,EAAE,MAAM;IACZ,IAAI,EAAE,MAAM;IACZ,IAAI,EAAE,MAAM;IACZ,IAAI,EAAE,SAAS;IACf,SAAS,EAAE,SAAS;IACpB,aAAa,EAAE,SAAS;IACxB,QAAQ,EAAE,SAAS;IACnB,OAAO,EAAE,SAAS;IAClB,KAAK,EAAE,SAAS;IAChB,GAAG,EAAE,SAAS;IACd,IAAI,EAAE,SAAS;IACf,IAAI,EAAE,SAAS;IACf,SAAS,EAAE,MAAM;IACjB,KAAK,EAAE,MAAM;IACb,OAAO,EAAE,MAAM;IACf,WAAW,EAAE,MAAM;CACtB,CAAC;;AAEF,MAAM,YAAY,GAAG;IACjB,EAAE,EAAE,KAAK;IACT,WAAW,EAAE,KAAK;IAClB,QAAQ,EAAE,KAAK;IACf,GAAG,EAAE,KAAK;IACV,IAAI,EAAE,KAAK;IACX,IAAI,EAAE,KAAK;IACX,IAAI,EAAE,KAAK;IACX,IAAI,EAAE,YAAY;IAClB,SAAS,EAAE,SAAS;IACpB,aAAa,EAAE,SAAS;IACxB,QAAQ,EAAE,IAAI;IACd,OAAO,EAAE,SAAS;IAClB,KAAK,EAAE,KAAK;IACZ,GAAG,EAAE,KAAK;IACV,IAAI,EAAE,KAAK;IACX,IAAI,EAAE,KAAK;IACX,SAAS,EAAE,KAAK;IAChB,KAAK,EAAE,KAAK;IACZ,OAAO,EAAE,KAAK;IACd,WAAW,EAAE,KAAK;CACrB,CAAC;;AAEF,SAAS,sBAAsB,CAAC,MAAM,EAAE;EACtC,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI;IACrB,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC;IAC9C,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,OAAO,GAAG,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IACnF,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC,QAAQ,GAAG,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;IACzE,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,KAAK,GAAG,YAAY,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;IACpE,OAAO,CAAC,CAAC;GACV,CAAC,CAAC;CACJ;;AAED,SAAS,OAAO,CAAC,IAAI,EAAE;EACrB,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;CACnD;;;AAGD,UAAe;EACb,mBAAmB,EAAE,sBAAsB,EAAE,OAAO;CACrD,CAAC;;ACrEF;;AAEA,AAIA,MAAM,UAAU,GAAG;EACjB,MAAM,EAAE,OAAO;EACf,aAAa,EAAE,SAAS;EACxB,QAAQ,EAAE,SAAS;EACnB,OAAO,EAAE,SAAS;EAClB,SAAS,EAAE,MAAM;EACjB,OAAO,EAAE,SAAS;CACnB,CAAC;;AAEF,MAAM,YAAY,GAAG;EACnB,SAAS,EAAE,OAAO;EAClB,UAAU,EAAE,OAAO;CACpB,CAAC;;AAEF,SAAS,gBAAgB,CAAC,IAAI,EAAE;EAC9B,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI;IACnC,CAAC,CAAC,QAAQ,GAAG,CAAC,CAAC,IAAI,CAAC;IACpB,OAAO,CAAC,CAAC;GACV,CAAC,CAAC;EACH,OAAO;IACL,EAAE,EAAE,IAAI,CAAC,EAAE;IACX,IAAI,EAAE,IAAI,CAAC,IAAI;IACf,QAAQ,EAAE,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC;IACnC,aAAa,EAAE,GAAG;IAClB,QAAQ,EAAE,CAAC;IACX,MAAM,EAAE,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC;IAC/B,MAAM,EAAE,MAAM;IACd,OAAO,EAAE,IAAI,CAAC,OAAO;IACrB,KAAK,EAAE,IAAI,CAAC,KAAK;IACjB,SAAS,EAAE,IAAI,CAAC,WAAW;IAC3B,SAAS,EAAE,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,WAAW;IAClD,WAAW,EAAE,IAAI,CAAC,WAAW;IAC7B,QAAQ,EAAE,IAAI,CAAC,QAAQ,GAAG,GAAG;IAC7B,QAAQ,EAAE,IAAI,CAAC,QAAQ;IACvB,OAAO,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY;GAC5C,CAAC;CACH;;AAED,SAAS,gBAAgB,CAAC,IAAI,EAAE,UAAU,EAAE;EAC1C,MAAM,GAAG,GAAG;IACV,cAAc,EAAE,IAAI,CAAC,QAAQ,CAAC,cAAc;IAC5C,aAAa,EAAE,IAAI,CAAC,QAAQ,CAAC,aAAa;IAC1C,SAAS,EAAE,EAAE;IACb,QAAQ,EAAE,EAAE;IACZ,SAAS,EAAE,EAAE;IACb,IAAI,EAAE,EAAE;GACT,CAAC;EACF,IAAI,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,EAAE;IAC7C,GAAG,CAAC,SAAS,CAAC,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC;IAC9C,GAAG,CAAC,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC;IACpD,GAAG,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;GACtF,MAAM;IACL,GAAG,CAAC,SAAS,GAAG;MACd,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC;MACjC,KAAK,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,OAAO,EAAE,MAAM,CAAC;KACrF,CAAC;GACH;EACD,IAAI,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE;IAC5C,GAAG,CAAC,QAAQ,CAAC,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC;IAC5C,GAAG,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC;IAClD,GAAG,CAAC,QAAQ,CAAC,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;GACpF,MAAM;IACL,GAAG,CAAC,QAAQ,GAAG;MACb,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC;MAChC,KAAK,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,OAAO,EAAE,EAAE,CAAC;KACvE,CAAC;GACH;EACD,IAAI,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,WAAW,CAAC,EAAE;IAC7C,GAAG,CAAC,SAAS,CAAC,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,EAAE,CAAC;IAC9C,GAAG,CAAC,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC;IAClD,GAAG,CAAC,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC;IAClD,GAAG,CAAC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC;IACxD,GAAG,CAAC,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC;IACpD,GAAG,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;GACtF,MAAM;IACL,GAAG,CAAC,SAAS,GAAG;MACd,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC;MAC3E,KAAK,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,OAAO,EAAE,OAAO,CAAC,EAAE,OAAO,EAAE,MAAM,CAAC;KACrF,CAAC;GACH;EACD,IAAI,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,EAAE;IAC/C,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC;GAC7C,MAAM;IACL,GAAG,CAAC,WAAW,GAAG,CAAC,SAAS,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC,CAAC;GACjD;EACD,IAAI,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,EAAE;IACxC,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;GAC/B,MAAM;IACL,GAAG,CAAC,IAAI,GAAG;MACT,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,IAAI,EAAE,EAAE,EAAE,OAAO,EAAE,KAAK,CAAC,EAAE,OAAO,EAAE,IAAI;MAC7D,KAAK,EAAE,CAAC,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;KACpE,CAAC;GACH;EACD,OAAO;IACL,EAAE,EAAE,IAAI,CAAC,EAAE;IACX,IAAI,EAAE,IAAI,CAAC,IAAI;IACf,QAAQ,EAAE,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC;IACnC,aAAa,EAAE,GAAG;IAClB,QAAQ,EAAE,CAAC;IACX,OAAO,EAAE,IAAI,CAAC,WAAW;IACzB,MAAM,EAAE,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC;IAC/B,MAAM,EAAE,GAAG,CAAC,sBAAsB,CAAC;MACjC,CAAC,KAAK,EAAE,QAAQ,CAAC;MACjB,CAAC,KAAK,EAAE,QAAQ,CAAC;MACjB,CAAC,KAAK,EAAE,QAAQ,CAAC;KAClB,CAAC;IACF,OAAO,EAAE,IAAI,CAAC,OAAO;IACrB,KAAK,EAAE,IAAI,CAAC,KAAK;IACjB,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;IACvC,SAAS,EAAE,IAAI,CAAC,WAAW;IAC3B,SAAS,EAAE,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,WAAW;IAClD,WAAW,EAAE,IAAI,CAAC,WAAW;IAC7B,QAAQ,EAAE,IAAI,CAAC,QAAQ,GAAG,GAAG;IAC7B,QAAQ,EAAE,IAAI,CAAC,QAAQ;IACvB,OAAO,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,YAAY;IAC3C,QAAQ,EAAE,GAAG;GACd,CAAC;CACH;;AAED,SAAS,kBAAkB,CAAC,IAAI,EAAE;EAChC,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE;IAChC,MAAM,KAAK,GAAG,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC3C,MAAM,KAAK,GAAG,gBAAgB,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;IACzD,OAAO,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;GACrC,MAAM;IACL,OAAO,gBAAgB,CAAC,IAAI,CAAC,CAAC;GAC/B;CACF;;;AAGD,SAAS,QAAQ,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE;EACvC,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAK;IACtC,MAAM,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;IAChC,MAAM,SAAS,GAAG,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,SAAS,CAAC,GAAG,IAAI,CAAC;IAC9D,MAAM,CAAC,MAAM,GAAG,KAAK,IAAI,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IACtD,MAAM,CAAC,OAAO,GAAG,KAAK,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;IACxC,IAAI,IAAI,EAAE;MACR,MAAM,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;KACrC,MAAM;MACL,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;KAC9B;GACF,CAAC,CAAC;CACJ;;;AAGD,SAAS,SAAS,CAAC,IAAI,EAAE,UAAU,EAAE;EACnC,MAAM,IAAI,GAAG,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAC;EACpE,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;EAC9B,IAAI,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,EAAE,OAAO,IAAI,CAAC;EACtD,IAAI,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE;IAChC,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,eAAe,CAAC,EAAE,OAAO,IAAI,CAAC;GAC7D;EACD,OAAO,kBAAkB,CAAC,IAAI,CAAC,CAAC;CACjC;;;AAGD,SAAS,QAAQ,CAAC,IAAI,EAAE;EACtB,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;EACxE,OAAO,QAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,UAAU,CAAC;KACrC,IAAI,CAAC,IAAI,IAAI,SAAS,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC;CAC9C;;;AAGD,SAAS,SAAS,CAAC,GAAG,EAAE;EACtB,MAAM,OAAO,GAAG,kBAAkB,CAAC,GAAG,CAAC,CAAC;EACxC,MAAM,UAAU,GAAG,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;EACpE,OAAO,KAAK,CAAC,OAAO,CAAC;KAClB,IAAI,CAAC,GAAG,IAAI,UAAU,GAAG,GAAG,CAAC,WAAW,EAAE,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;KACxD,IAAI,CAAC,IAAI,IAAI,SAAS,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC;CAC9C;;;AAGD,SAAS,gBAAgB,CAAC,IAAI,EAAE,IAAI,EAAE;EACpC,IAAI;;;IAGF,MAAM,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACzD,MAAM,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;IACtC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;IAClB,CAAC,CAAC,IAAI,GAAG,GAAG,CAAC;;IAEb,CAAC,CAAC,aAAa,CAAC,IAAI,UAAU,CAAC,OAAO,EAAE;MACtC,MAAM,EAAE,MAAM;MACd,SAAS,EAAE,IAAI;MACf,YAAY,EAAE,KAAK;KACpB,CAAC,CAAC,CAAC;;GAEL,CAAC,OAAO,CAAC,EAAE;;GAEX;CACF;;;AAGD,SAAS,YAAY,CAAC,IAAI,EAAE,IAAI,EAAE,QAAQ,CAAC,IAAI,EAAE;EAC/C,MAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;EACjC,MAAM,IAAI,GAAG,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;EAC7C,MAAM,CAAC,GAAG,QAAQ,GAAG,GAAG,GAAG,GAAG,CAAC;EAC/B,MAAM,GAAG,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;EAClE,gBAAgB,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;CACzC;;;AAGD,YAAe;EACb,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,SAAS;EACxC,gBAAgB,EAAE,YAAY;CAC/B,CAAC;;ACnNF,MAAM,OAAO,GAAG,EAAE,CAAC;;AAEnB,SAAS,GAAG,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,EAAE;EAC1B,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC;EAC1C,MAAM,CAAC,GAAG,OAAO,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;EAC3D,OAAO,KAAK;IACV,CAAC,EAAE,OAAO,CAAC,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;IACtB;MACE,WAAW,EAAE,SAAS;KACvB;GACF,CAAC,IAAI,CAAC,GAAG,IAAI;IACZ,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;MACtB,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;KAClD;IACD,OAAO,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;GAC7B,CAAC,CAAC;CACJ;;AAED,SAAS,IAAI,CAAC,QAAQ,EAAE;EACtB,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;CACxB;;AAED,SAAS,IAAI,CAAC,QAAQ,EAAE;EACtB,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;CACxB;;AAED,SAAS,IAAI,CAAC,QAAQ,EAAE;EACtB,OAAO,QAAQ,CAAC,IAAI,EAAE,CAAC;CACxB;;AAED,SAAS,IAAI,CAAC,GAAG,EAAE,QAAQ,EAAE;EAC3B,OAAO,KAAK;IACV,CAAC,EAAE,OAAO,CAAC,EAAE,GAAG,CAAC,CAAC;IAClB;MACE,MAAM,EAAE,MAAM;MACd,IAAI,EAAE,QAAQ;MACd,WAAW,EAAE,SAAS;KACvB;GACF,CAAC,IAAI,CAAC,GAAG,IAAI;IACZ,IAAI,GAAG,CAAC,MAAM,KAAK,GAAG,EAAE;MACtB,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;KAClD;IACD,OAAO,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;GAC7B,CAAC,CAAC;CACJ;;;AAGD,SAAS,KAAK,CAAC,GAAG,EAAE;EAClB,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;EACnB,OAAO,IAAI,CAAC;CACb;;;AAGD,cAAe;EACb,GAAG,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK;CACnC,CAAC;;ACtDF,MAAM,MAAM,SAAS,KAAK,CAAC;;;;EAIzB,MAAM,CAAC,GAAG,EAAE;IACV,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK;MAC3B,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,SAAS,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;MAC5D,OAAO,CAAC,CAAC;KACV,EAAE,IAAI,MAAM,EAAE,CAAC,CAAC;GAClB;;;;;;EAMD,MAAM,GAAG;IACP,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK;MAC3B,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MACjC,OAAO,CAAC,CAAC;KACV,EAAE,IAAI,MAAM,EAAE,CAAC,CAAC;GAClB;;;;EAID,WAAW,GAAG;IACZ,OAAO,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI;MACnC,OAAO,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK;QAC1B,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,OAAO,CAAC,CAAC;OACV,EAAE,IAAI,MAAM,EAAE,CAAC,CAAC;KAClB,CAAC,CAAC;GACJ;;EAED,OAAO,GAAG;IACR,OAAO,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC;GACxB;;EAED,QAAQ,GAAG;IACT,MAAM,GAAG,GAAG,EAAE,CAAC;IACf,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI;MACjB,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;KACpB,CAAC,CAAC;IACH,OAAO,GAAG,CAAC;GACZ;CACF;;AC1CD,SAAS,QAAQ,GAAG;EAClB,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;KAC/D,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;CACtC;;;AAGD,UAAe;EACb,QAAQ;CACT,CAAC;;ACXF;;AAEA,SAAS,cAAc,CAAC,GAAG,EAAE;EAC3B,MAAM,EAAE,GAAG,cAAc,CAAC;EAC1B,MAAM,QAAQ,GAAG,IAAI,GAAG,EAAE,CAAC;EAC3B,IAAI,GAAG,CAAC;EACR,OAAO,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,IAAI,EAAE;IACpC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;GACtB;EACD,OAAO,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;CAC7B;;;AAGD,SAAS,MAAM,GAAG;EAChB,OAAO,sCAAsC,CAAC,OAAO,CAAC,OAAO,EAAE,SAAS,CAAC,EAAE;IACzE,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;IACnE,OAAO,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;GACvB,CAAC,CAAC;CACJ;;AAED,AAiCA,WAAe;EACb,cAAc,EAAE,MAAM;CACvB,CAAC;;ACvDF;;AAEA,AAIA;;;;;AAKA,SAAS,aAAa,CAAC,OAAO,EAAE;EAC9B,MAAM,UAAU,GAAG,EAAE,CAAC;EACtB,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI;IAC3C,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;GAC3B,CAAC,CAAC;EACH,OAAO;IACL,OAAO,EAAE,OAAO,CAAC,OAAO;IACxB,MAAM,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC;IACvB,GAAG,EAAE,OAAO,CAAC,GAAG;IAChB,OAAO,EAAE,UAAU;GACpB,CAAC;CACH;;;;;;;;AAQD,SAAS,cAAc,CAAC,OAAO,EAAE;EAC/B,MAAM,EAAE,GAAG,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,GAAG,aAAa,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC;EAC9E,MAAM,QAAQ,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;EAClD,MAAM,IAAI,GAAG;IACX,MAAM,EAAE,GAAG,CAAC,sBAAsB,CAAC,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC;IAChE,OAAO,EAAE,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,KAAK,IAAI;MAC/C,MAAM,GAAG,GAAG,EAAE,CAAC;MACf,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;MACvB,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK;QAC1B,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;OAC1B,CAAC,CAAC;MACH,OAAO,GAAG,CAAC;KACZ,CAAC;GACH,CAAC;EACF,OAAO,IAAI,CAAC;CACb;;;;;;;;;AASD,SAAS,cAAc,CAAC,KAAK,EAAE,GAAG,EAAE,MAAM,CAAC,CAAC,QAAQ,CAAC,EAAE;EACrD,MAAM,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;EACvB,MAAM,OAAO,GAAG;IACd,OAAO,EAAE,GAAG,CAAC,QAAQ,EAAE;IACvB,MAAM,EAAE,GAAG,CAAC,sBAAsB,CAAC,KAAK,CAAC,MAAM;OAC5C,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC;OAC1B,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACxC,GAAG,EAAE,GAAG;IACR,OAAO,EAAE,EAAE;GACZ,CAAC;EACF,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,IAAI;IAC3B,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;GACjE,CAAC,CAAC;EACH,OAAO,OAAO,CAAC;CAChB;;;;;;;;AAQD,SAAS,YAAY,CAAC,SAAS,EAAE;EAC/B,MAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;EAC5C,MAAM,MAAM,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;EACxC,MAAM,GAAG,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC;EAC3B,MAAM,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;EACvB,MAAM,SAAS,GAAG,EAAE,CAAC;EACrB,MAAM,MAAM,GAAG,EAAE,CAAC;EAClB,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK;IACvB,IAAI,CAAC,KAAK,EAAE,EAAE,OAAO;IACrB,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAClB,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC;GAC1C,CAAC,CAAC;EACH,MAAM,OAAO,GAAG;IACd,OAAO,EAAE,GAAG,CAAC,QAAQ,EAAE;IACvB,MAAM,EAAE,GAAG,CAAC,sBAAsB,CAAC,MAAM,CAAC;IAC1C,GAAG,EAAE,GAAG;IACR,OAAO,EAAE,EAAE;GACZ,CAAC;EACF,KAAK,CAAC,OAAO,CAAC,IAAI,IAAI;IACpB,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC/B,MAAM,CAAC,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC;IACzB,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IAC7C,SAAS,CAAC,OAAO,CAAC,CAAC,IAAI;MACrB,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;KACnC,CAAC,CAAC;GACJ,CAAC,CAAC;EACH,OAAO,OAAO,CAAC;CAChB;;;;;;;;;AASD,SAAS,KAAK,CAAC,IAAI,EAAE,OAAO,EAAE;EAC5B,MAAM,EAAE,GAAG,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,GAAG,aAAa,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC;EAC9E,IAAI,CAAC,OAAO;KACT,MAAM,CAAC,GAAG,IAAI,EAAE,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;KACrD,OAAO,CAAC,GAAG,IAAI;MACd,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK;QAC3B,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;OAC1C,CAAC,CAAC;KACJ,CAAC,CAAC;EACL,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,sBAAsB;IACtC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;CAC7D;;;AAGD,aAAe;EACb,aAAa,EAAE,cAAc,EAAE,cAAc,EAAE,YAAY,EAAE,KAAK;CACnE,CAAC;;AC9HF;;AAEA,MAAM,MAAM,GAAG;EACb,GAAG,EAAE,KAAK;EACV,KAAK,EAAE,uBAAuB;EAC9B,SAAS,EAAE,IAAI;CAChB,CAAC;;AAEF,IAAI,GAAG,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;AAC7B,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;;;AAG9B,SAASA,eAAa,CAAC,GAAG,EAAE;EAC1B,OAAO,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE;KAC5C,IAAI,CAAC,GAAG,IAAI;MACX,IAAI,GAAG,KAAK,SAAS,EAAE,OAAO,SAAS,CAAC;MACxC,OAAO,GAAG,CAAC,KAAK,CAAC;KAClB,CAAC,CAAC;CACN;;;AAGD,SAAS,aAAa,CAAC,CAAC,EAAE,CAAC,EAAE;EAC3B,OAAO,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;CAC1C;;;AAGD,SAASC,cAAY,GAAG;EACtB,OAAO,GAAG,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;CAChC;;;AAGD,SAAS,YAAY,CAAC,IAAI,EAAE;EAC1B,OAAO,GAAG,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;CACpC;;;AAGD,SAAS,WAAW,GAAG;EACrB,OAAO,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,OAAO,EAAE;KAC1C,OAAO,EAAE,CAAC;CACd;;;AAGD,SAAS,kBAAkB,CAAC,IAAI,EAAE;EAChC,OAAO,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE;KACtD,MAAM,CAAC,SAAS,CAAC,CAAC;CACtB;;;AAGD,SAAS,WAAW,CAAC,OAAO,EAAE;EAC5B,OAAO,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,CAAC;CACtD;;;AAGD,SAAS,UAAU,CAAC,OAAO,EAAE,QAAQ,EAAE;EACrC,OAAO,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;CAC/D;;;AAGD,SAAS,UAAU,CAAC,OAAO,EAAE;EAC3B,OAAO,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC;CACvD;;;AAGD,SAAS,OAAO,CAAC,IAAI,EAAE;EACrB,OAAO,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;CAC5B;;;AAGD,SAASC,OAAK,GAAG;;EAEf,OAAO,GAAG,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,MAAM;IAC7B,GAAG,GAAG,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;IACzB,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;GAC/B,CAAC,CAAC;CACJ;;AAED,cAAe;iBACbF,eAAa,EAAE,aAAa,gBAAEC,cAAY,EAAE,YAAY;EACxD,WAAW,EAAE,kBAAkB,EAAE,WAAW;EAC5C,UAAU,EAAE,UAAU,EAAE,OAAO,SAAEC,OAAK;CACvC,CAAC;;AC7EF,SAAS,aAAa,CAAC,GAAG,EAAE;EAC1B,OAAOC,OAAK,CAAC,aAAa,CAAC,GAAG,CAAC;KAC5B,KAAK,CAAC,GAAG,IAAI;MACZ,OAAO,CAAC,KAAK,CAAC,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;MACxC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;KACrB,CAAC,CAAC;CACN;;;AAGD,SAAS,aAAa,CAAC,GAAG,EAAE,KAAK,EAAE;EACjC,OAAOA,OAAK,CAAC,aAAa,CAAC,GAAG,EAAE,KAAK,CAAC;KACnC,KAAK,CAAC,GAAG,IAAI;MACZ,OAAO,CAAC,KAAK,CAAC,CAAC,gBAAgB,EAAE,GAAG,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;MAC3D,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;KACrB,CAAC,CAAC;CACN;;;AAGD,SAAS,YAAY,GAAG;EACtB,OAAOA,OAAK,CAAC,YAAY,EAAE,CAAC;CAC7B;;;AAGD,SAAS,YAAY,CAAC,KAAK,EAAE;EAC3B,OAAOA,OAAK,CAAC,YAAY,CAAC,KAAK,CAAC;KAC7B,KAAK,CAAC,GAAG,IAAI;MACZ,OAAO,CAAC,KAAK,CAAC,CAAC,sBAAsB,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;MAChD,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;KACrB,CAAC,CAAC;CACN;;;AAGD,SAAS,YAAY,GAAG;EACtB,OAAOA,OAAK,CAAC,WAAW,EAAE,CAAC;CAC5B;;;AAGD,SAAS,mBAAmB,CAAC,IAAI,EAAE;EACjC,OAAOA,OAAK,CAAC,kBAAkB,CAAC,IAAI,CAAC;KAClC,KAAK,CAAC,GAAG,IAAI;MACZ,OAAO,CAAC,KAAK,CAAC,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;MAC9C,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;KACrB,CAAC,CAAC;CACN;;;AAGD,SAAS,QAAQ,CAAC,EAAE,EAAE;EACpB,OAAOA,OAAK,CAAC,WAAW,CAAC,EAAE,CAAC;KACzB,KAAK,CAAC,GAAG,IAAI;MACZ,OAAO,CAAC,KAAK,CAAC,CAAC,qBAAqB,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;MAC5C,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;KACrB,CAAC,CAAC;CACN;;;AAGD,SAAS,kBAAkB,CAAC,EAAE,EAAE,OAAO,EAAE;EACvC,OAAOA,OAAK,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,IAAI;IAClC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK;MAC7B,EAAE,CAAC,OAAO,GAAG,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;MAC/C,EAAE,CAAC,QAAQ,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;MACnC,EAAE,CAAC,KAAK,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;KAC9B,CAAC,CAAC;IACH,IAAI,CAAC,QAAQ,EAAE,CAAC;GACjB,CAAC;GACD,KAAK,CAAC,GAAG,IAAI;IACZ,OAAO,CAAC,KAAK,CAAC,CAAC,qBAAqB,EAAE,EAAE,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;IACnE,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;GACrB,CAAC,CAAC;CACJ;;;AAGD,SAAS,UAAU,CAAC,EAAE,EAAE,OAAO,EAAE;EAC/B,OAAOA,OAAK,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,IAAI;IAClC,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;IAC5B,IAAI,CAAC,QAAQ,EAAE,CAAC;GACjB,CAAC;GACD,KAAK,CAAC,GAAG,IAAI;IACZ,OAAO,CAAC,KAAK,CAAC,CAAC,qBAAqB,EAAE,EAAE,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC,CAAC,CAAC;IACnE,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;GACrB,CAAC,CAAC;CACJ;;;AAGD,SAAS,oBAAoB,CAAC,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE;EAC5C,OAAOA,OAAK,CAAC,UAAU,CAAC,EAAE,EAAE,IAAI,IAAI;IAClC,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;IAClB,IAAI,CAAC,QAAQ,EAAE,CAAC;GACjB,CAAC;GACD,KAAK,CAAC,GAAG,IAAI;IACZ,OAAO,CAAC,KAAK,CAAC,CAAC,qBAAqB,EAAE,EAAE,CAAC,OAAO,EAAE,GAAG,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;IAC5E,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;GACrB,CAAC,CAAC;CACJ;;;AAGD,SAAS,WAAW,CAAC,IAAI,EAAE;EACzB,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,sBAAsB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;EACtD,OAAOA,OAAK,CAAC,OAAO,CAAC,IAAI,CAAC;KACvB,KAAK,CAAC,GAAG,IAAI;MACZ,OAAO,CAAC,KAAK,CAAC,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;MAC1C,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;KACrB,CAAC,CAAC;CACN;;;AAGD,SAAS,WAAW,CAAC,IAAI,EAAE;EACzB,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;IAC7B,OAAO,oBAAoB,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;GAC3D;;EAED,OAAOA,OAAK,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,IAAI;IACvC,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,sBAAsB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtD,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC1B,IAAI,CAAC,QAAQ,EAAE,CAAC;GACjB,CAAC,CAAC;CACJ;;;AAGD,SAAS,WAAW,CAAC,EAAE,EAAE;EACvB,OAAOA,OAAK,CAAC,UAAU,CAAC,EAAE,CAAC;KACxB,KAAK,CAAC,GAAG,IAAI;MACZ,OAAO,CAAC,KAAK,CAAC,CAAC,qBAAqB,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;MAC5C,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;KACrB,CAAC,CAAC;CACN;;;AAGD,SAAS,KAAK,GAAG;EACf,OAAOA,OAAK,CAAC,KAAK,EAAE,CAAC;CACtB;;;AAGD,YAAe;EACb,aAAa,EAAE,aAAa,EAAE,YAAY,EAAE,YAAY;EACxD,YAAY,EAAE,mBAAmB,EAAE,QAAQ;EAC3C,kBAAkB,EAAE,UAAU;EAC9B,oBAAoB,EAAE,WAAW,EAAE,WAAW;EAC9C,WAAW,EAAE,KAAK;CACnB,CAAC;;AC/IF;;AAEA,AAGA;;;;;AAKA,SAAS,SAAS,CAAC,KAAK,EAAE,IAAI,EAAE;EAC9B,MAAM,IAAI,GAAG;IACX,UAAU,EAAE,KAAK;IACjB,EAAE,EAAE,KAAK;IACT,OAAO,EAAE,KAAK;GACf,CAAC;EACF,IAAI,IAAI,KAAK,KAAK,EAAE,OAAO,KAAK,CAAC;EACjC,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,OAAO,EAAE,CAAC;EAC5E,OAAO,KAAK,IAAI,UAAU,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC;CAC1E;;AAED,SAAS,YAAY,CAAC,KAAK,EAAE,MAAM,EAAE;EACnC,IAAI,MAAM,KAAK,SAAS,IAAI,MAAM,KAAK,IAAI,IAAI,MAAM,KAAK,EAAE,EAAE,OAAO,KAAK,CAAC;EAC3E,OAAO,MAAM,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE;KACnC,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;CACnD;;AAED,SAAS,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE;EACxB,MAAM,EAAE,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;EACzB,MAAM,EAAE,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;EACzB,IAAI,KAAK,CAAC,EAAE,CAAC,IAAI,KAAK,CAAC,EAAE,CAAC,EAAE;IAC1B,OAAO,MAAM,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;GAC3C;EACD,OAAO,EAAE,GAAG,EAAE,CAAC;CAChB;;;AAGD,SAAS,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE;EACzB,OAAO,UAAU,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;CACzB;;;AAGD,SAAS,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE;EACrB,OAAO,MAAM,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;CAC3C;;;AAGD,SAAS,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE;EACtB,OAAO,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;CACtB;;;AAGD,UAAe;EACb,SAAS,EAAE,YAAY;EACvB,UAAU,EAAE,WAAW,EAAE,OAAO,EAAE,QAAQ;CAC3C,CAAC;;ACvDF;;AAEA,AAEA,SAAS,QAAQ,CAAC,QAAQ,EAAE,QAAQ,EAAE;EACpC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;KAChC,UAAU,CAAC,QAAQ,CAAC;KACpB,GAAG,EAAE,CAAC;CACV;;;AAGD,SAAS,aAAa,CAAC,QAAQ,EAAE;EAC/B,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;EACjD,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;CAC/B;;;AAGD,WAAe;EACb,QAAQ,EAAE,aAAa;CACxB,CAAC;;ACnBF;;AAEA,AAIA,SAAS,aAAa,CAAC,SAAS,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE;EACjD,MAAM,OAAO,GAAG,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC;KAC1C,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;EACnB,OAAO,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;EACxB,OAAO,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC;KAC7B,KAAK,CAAC,OAAO,CAAC;OACZ,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC;OAClB,IAAI,CAAC,IAAI,CAAC,CAAC;CACjB;;;AAGD,SAAS,YAAY,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE;EACtD,MAAM,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;EACxD,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;EACtB,MAAM,OAAO,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC;KACvC,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;KAC3B,MAAM,CAAC,OAAO,CAAC,CAAC;EACnB,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;EACxB,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;EACvB,MAAM,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;KACjD,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC;EACrC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC;KACpB,IAAI,CAAC,MAAM,EAAE,UAAU,CAAC;KACxB,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC;KACjC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC;KAClB,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;EACtB,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC;KACnB,IAAI,CAAC,IAAI,CAAC,CAAC;CACf;;;;;AAKD,SAAS,aAAa,CAAC,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE;EACvD,MAAM,KAAK,GAAG,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;EACxD,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;EACtB,MAAM,OAAO,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC;KACvC,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;KAC3B,MAAM,CAAC,OAAO,CAAC,CAAC;EACnB,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;EACxB,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;EACpB,MAAM,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;KACjD,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC;EACrC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC;KACpB,IAAI,CAAC,MAAM,EAAE,UAAU,CAAC;KACxB,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC;KACjC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC;KAClB,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;EACtB,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC;KAChB,IAAI,CAAC,aAAa,EAAE,SAAS,CAAC;KAC9B,IAAI,CAAC,gBAAgB,EAAE,QAAQ,CAAC;KAChC,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,WAAW,IAAI,IAAI,CAAC;KACzC,IAAI,CAAC,IAAI,CAAC,CAAC;CACf;;;AAGD,SAAS,WAAW,CAAC,SAAS,EAAE,IAAI,EAAE;;EAEpC,IAAI,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC;EACzE,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;;EAEvC,IAAI,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,CAAC;IACvE,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;;EAE5B,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC;EAChD,MAAM,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC;KACxD,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;EAC1B,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;EACvB,MAAM,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC;KACxB,KAAK,CAAC,MAAM,CAAC;OACX,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;CACxB;;;AAGD,SAAS,kBAAkB,CAAC,SAAS,EAAE,IAAI,EAAE,OAAO,EAAE;EACpD,MAAM,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC;KACxD,IAAI,EAAE,CAAC;EACV,MAAM,YAAY,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC;KAC3D,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;EACvB,YAAY,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;EAC7B,MAAM,UAAU,GAAG,YAAY,CAAC,KAAK,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;EACrD,UAAU,CAAC,SAAS,CAAC,IAAI,CAAC;KACvB,IAAI,CAAC,CAAC,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;KACpC,KAAK,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;EACxB,UAAU,CAAC,KAAK,CAAC,YAAY,CAAC;KAC3B,SAAS,CAAC,IAAI,CAAC;OACb,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC;KAC/B,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,EAAE;MACpB,IAAI,CAAC,KAAK,SAAS,EAAE,OAAO,EAAE,CAAC;MAC/B,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,KAAK,MAAM,EAAE,OAAO,QAAQ,CAAC;MACpD,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,KAAK,OAAO,EAAE,OAAO,SAAS,CAAC;MACtD,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,KAAK,SAAS,EAAE,OAAO;MAC9C,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,KAAK,EAAE,OAAO,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;MACxE,OAAO,CAAC,CAAC;KACV,CAAC;KACD,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,KAAK;;MAErB,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,KAAK,SAAS,EAAE,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACpE,CAAC,CAAC;CACN;;;AAGD,SAAS,eAAe,CAAC,SAAS,EAAE,IAAI,EAAE,OAAO,EAAE;EACjD,MAAM,OAAO,GAAG,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC;EACjE,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;EAC1C,kBAAkB,CAAC,SAAS,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;CACjD;;;AAGD,SAAS,OAAO,CAAC,SAAS,EAAE;EAC1B,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC;KACzC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,QAAQ,KAAK,MAAM,CAAC;KAClC,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC;OACxB,IAAI,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;OAChC,IAAI,CAAC,IAAI,CAAC;OACV,KAAK,CAAC,SAAS,EAAE,cAAc,CAAC;OAChC,KAAK,CAAC,OAAO,EAAE,MAAM,CAAC;OACtB,KAAK,CAAC,YAAY,EAAE,QAAQ,CAAC;KAC/B,EAAE,CAAC,OAAO,EAAE,CAAC,IAAI;MAChB,MAAM,KAAK,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,KAAK,GAAG,CAAC;MACzD,MAAM,KAAK,GAAG,CAAC,CAAC,QAAQ,KAAK,SAAS,CAAC;MACvC,MAAM,GAAG,GAAG,KAAK;WACZ,KAAK,GAAG,GAAG,CAAC,UAAU,GAAG,GAAG,CAAC,OAAO;WACpC,KAAK,GAAG,GAAG,CAAC,WAAW,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC;MAC7C,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC;SACtC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAC3C,EAAE,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;SACxB,IAAI,CAAC,KAAK,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;KAC5B,CAAC,CAAC;CACN;;;AAGD,SAAS,aAAa,CAAC,SAAS,EAAE;;EAEhC,SAAS,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC;KACzC,IAAI,CAAC,CAAC,GAAG,EAAE,MAAM,KAAK;MACrB,IAAI,GAAG,CAAC,KAAK,KAAK,KAAK,EAAE,OAAO;MAChC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC;SACtC,SAAS,CAAC,IAAI,CAAC;WACb,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,KAAK,MAAM,CAAC;WAC9B,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;KAC7C,CAAC,CAAC;CACN;;;AAGD,UAAe;EACb,aAAa,EAAE,YAAY,EAAE,aAAa;EAC1C,WAAW,EAAE,kBAAkB;EAC/B,eAAe,EAAE,OAAO,EAAE,aAAa;CACxC,CAAC;;AC3JF;;AAEA,AAgBA,SAAS,UAAU,CAAC,SAAS,EAAE,QAAQ,EAAE;EACvC,KAAK,CAAC,aAAa,CAAC,uBAAuB,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI;IACvD,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;GACxC,CAAC,CAAC;EACH,EAAE,CAAC,MAAM,CAAC,cAAc,CAAC;KACtB,EAAE,CAAC,OAAO,EAAE,MAAM;MACjB,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;MACxD,MAAM,KAAK,GAAG;QACZ,IAAI,EAAE,YAAY;QAClB,OAAO,EAAE,SAAS,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,KAAK,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC;QACtE,GAAG,EAAE,aAAa;QAClB,MAAM,EAAE,MAAM,CAAC,aAAa,CAAC,iBAAiB,CAAC;OAChD,CAAC;MACF,OAAO,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC;SAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;SAClB,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;KAClC,CAAC,CAAC;CACN;;;AAGD,SAAS,UAAU,CAAC,SAAS,EAAE,QAAQ,EAAE;EACvC,EAAE,CAAC,MAAM,CAAC,eAAe,CAAC;KACvB,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;KACpE,EAAE,CAAC,QAAQ,EAAE,YAAY;MACxB,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,eAAe,CAAC,CAAC;SAC3D,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC;SAClB,MAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;MAC1B,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC;SACnB,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,EAAE,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;KAC3D,CAAC,CAAC;EACL,EAAE,CAAC,MAAM,CAAC,cAAc,CAAC;KACtB,EAAE,CAAC,OAAO,EAAE,MAAM;MACjB,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;MACxD,MAAM,KAAK,GAAG;QACZ,IAAI,EAAE,UAAU;QAChB,OAAO,EAAE,MAAM,CAAC,cAAc,CAAC,eAAe,CAAC;QAC/C,GAAG,EAAE,MAAM,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC,GAAG;QACvC,MAAM,EAAE,MAAM,CAAC,aAAa,CAAC,iBAAiB,CAAC;QAC/C,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,gBAAgB,CAAC;OACzC,CAAC;MACF,OAAO,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC;SAC/B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;SAClB,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;KAClC,CAAC,CAAC;CACN;;;AAGD,SAAS,YAAY,CAAC,SAAS,EAAE,QAAQ,EAAE;EACzC,EAAE,CAAC,MAAM,CAAC,cAAc,CAAC;KACtB,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;EAC9D,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC;KACzB,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;EACxE,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI;IACvC,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC;OAC/C,IAAI,CAAC,UAAU,EAAE,GAAG,GAAG,IAAI,GAAG,UAAU,CAAC,CAAC;GAC9C,CAAC,CAAC;EACH,EAAE,CAAC,SAAS,CAAC,iCAAiC,CAAC;KAC5C,EAAE,CAAC,QAAQ,EAAE,YAAY;MACxB,MAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;MAC9C,MAAM,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;MAClD,EAAE,CAAC,MAAM,CAAC,cAAc,CAAC;SACtB,IAAI,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,IAAI,GAAG,UAAU,CAAC;SACpF,IAAI,CAAC,OAAO,EAAE,QAAQ,KAAK,MAAM,GAAG,EAAE,GAAG,GAAG,CAAC;SAC7C,IAAI,CAAC,KAAK,EAAE,QAAQ,KAAK,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;SACxC,IAAI,CAAC,KAAK,EAAE,QAAQ,KAAK,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC;SAC5C,IAAI,CAAC,MAAM,EAAE,QAAQ,KAAK,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC;MAChD,EAAE,CAAC,MAAM,CAAC,kBAAkB,CAAC;SAC1B,IAAI,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,IAAI,GAAG,UAAU,CAAC;SACpF,QAAQ,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,SAAS,GAAG,KAAK,CAAC,CAAC;MAC7E,EAAE,CAAC,MAAM,CAAC,6BAA6B,CAAC;SACrC,IAAI,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,IAAI,GAAG,UAAU,CAAC,CAAC;MACxF,EAAE,CAAC,MAAM,CAAC,8BAA8B,CAAC;SACtC,IAAI,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,IAAI,GAAG,UAAU,CAAC,CAAC;MAC5E,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC;SAC3C,IAAI,CAAC,UAAU,EAAE,MAAM,KAAK,KAAK,GAAG,IAAI,GAAG,UAAU,CAAC,CAAC;MAC1D,EAAE,CAAC,MAAM,CAAC,uBAAuB,CAAC;SAC/B,IAAI,CAAC,UAAU,EAAE,MAAM,KAAK,QAAQ,GAAG,IAAI,GAAG,UAAU,CAAC,CAAC;KAC9D,CAAC;KACD,QAAQ,CAAC,QAAQ,CAAC,CAAC;EACtB,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC;KACxB,EAAE,CAAC,QAAQ,EAAE,YAAY;MACxB,EAAE,CAAC,MAAM,CAAC,cAAc,CAAC;SACtB,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,KAAK,MAAM,GAAG,IAAI,GAAG,UAAU,CAAC,CAAC;KAChE,CAAC,CAAC;EACL,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC;KACzB,EAAE,CAAC,OAAO,EAAE,MAAM;MACjB,MAAMC,MAAG,GAAG,MAAM,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;MAC3C,MAAM,KAAK,GAAG;QACZ,MAAM,EAAEA,MAAG;QACX,MAAM,EAAEA,MAAG,KAAK,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,IAAI;QAC5D,KAAK,EAAEA,MAAG,KAAK,SAAS;YACpB,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,GAAG,MAAM,CAAC,aAAa,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC;OACrF,CAAC;MACF,OAAO,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,KAAK,CAAC;SACjC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;SAClB,IAAI,CAAC,GAAG,IAAI,EAAE,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;KACrE,CAAC,CAAC;EACL,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC;KACxB,EAAE,CAAC,OAAO,EAAE,MAAM;MACjB,MAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;MAC9C,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;MACxD,MAAMA,MAAG,GAAG,MAAM,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;MAC3C,MAAM,KAAK,GAAG;QACZ,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,gBAAgB,CAAC;QACpC,OAAO,EAAE,MAAM,CAAC,cAAc,CAAC,iBAAiB,CAAC;QACjD,QAAQ,EAAE;UACR,MAAM,EAAEA,MAAG;UACX,MAAM,EAAEA,MAAG,KAAK,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,cAAc,CAAC,GAAG,IAAI;UAC5D,KAAK,EAAEA,MAAG,KAAK,SAAS;cACpB,MAAM,CAAC,KAAK,CAAC,mBAAmB,CAAC,GAAG,MAAM,CAAC,aAAa,CAAC,mBAAmB,CAAC,CAAC,CAAC,CAAC;SACrF;QACD,MAAM,EAAE;UACN,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,kBAAkB,CAAC;UACzC,SAAS,EAAE,MAAM,CAAC,UAAU,CAAC,cAAc,CAAC;UAC5C,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,iBAAiB,CAAC;UAC3C,QAAQ,EAAE,MAAM,KAAK,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,IAAI;UACnE,WAAW,EAAE,MAAM,KAAK,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,IAAI;UACtE,aAAa,EAAE,MAAM,KAAK,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,GAAG,IAAI;UACxE,OAAO,EAAE,MAAM,KAAK,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,iBAAiB,CAAC,GAAG,IAAI;SACzE;OACF,CAAC;MACF,MAAM,OAAO,GAAG,KAAK,CAAC,IAAI,KAAK,OAAO,GAAG,KAAK,GAAG,OAAO,CAAC;MACzD,OAAO,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC;SAC/B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;SAClB,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;KAClC,CAAC,CAAC;CACN;;;AAGD,SAAS,SAAS,CAAC,QAAQ,EAAE;EAC3B,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC;KACnB,EAAE,CAAC,QAAQ,EAAE,MAAM;MAClB,MAAM,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;MAChC,MAAM,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;MAC1D,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK;QACrB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC;WACnB,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;gBACtD,QAAQ,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC;WAC7B,CAAC;OACL,CAAC;;MAEF,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC;KACrD,CAAC,CAAC;EACL,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC;KACxB,EAAE,CAAC,QAAQ,EAAE,MAAM;MAClB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC;SACtC,QAAQ,CAAC,SAAS,EAAE,MAAM,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC;KAC1D,CAAC,CAAC;EACL,EAAE,CAAC,MAAM,CAAC,aAAa,CAAC;KACrB,EAAE,CAAC,OAAO,EAAE,MAAM;MACjB,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;MACxD,MAAM,MAAM,GAAG;QACb,MAAM,EAAE,MAAM,CAAC,cAAc,CAAC,WAAW,CAAC;QAC1C,KAAK,EAAE,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC;QACnC,MAAM,EAAE,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC;OACtC,CAAC;MACF,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;MAChC,QAAQ,CAAC,MAAM,CAAC,UAAU,EAAE,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC;MAC3D,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC;MAClD,OAAO,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC;SACnC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;SAClB,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;KAClC,CAAC,CAAC;CACN;;;AAGD,SAAS,YAAY,CAAC,UAAU,EAAE,QAAQ,EAAE;EAC1C,MAAM,KAAK,GAAG;IACZ,MAAM,EAAE,GAAG,CAAC,sBAAsB,CAAC;MACjC,CAAC,GAAG,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,CAAC;MAChC,CAAC,GAAG,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;MACtC,CAAC,GAAG,EAAE,UAAU,EAAE,SAAS,EAAE,SAAS,CAAC;MACvC,CAAC,GAAG,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,CAAC;KACrC,CAAC;GACH,CAAC;EACF,MAAM,OAAO,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK;IACvC,OAAO;MACL,GAAG,EAAE,CAAC,CAAC,GAAG;MACV,IAAI,EAAE,CAAC,CAAC,IAAI;MACZ,OAAO,EAAE,SAAS,IAAI,SAAS;WAC1B,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC;WAC3B,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC;SAC1B,MAAM,CAAC,OAAO,CAAC;WACb,IAAI,CAAC,MAAM,EAAE,UAAU,CAAC;WACxB,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,GAAG,CAAC;WACpB,QAAQ,CAAC,SAAS,EAAE,CAAC,CAAC,OAAO,CAAC;OAClC,QAAQ,EAAE,SAAS,IAAI,SAAS;WAC5B,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC;WAC5B,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC;SAC1B,MAAM,CAAC,QAAQ,CAAC;WACd,IAAI,CAAC,GAAG,CAAC,aAAa;gBACjB,CAAC,CAAC,QAAQ,KAAK,MAAM,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;WAC5E,QAAQ,CAAC,OAAO,EAAE,CAAC,CAAC,QAAQ,CAAC;WAC7B,EAAE,CAAC,QAAQ,EAAE,YAAY;YACxB,EAAE,CAAC,MAAM,CAAC,CAAC,iBAAiB,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC;eACtC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,KAAK,SAAS,GAAG,IAAI,GAAG,UAAU,CAAC,CAAC;WACnE,CAAC;OACL,KAAK,EAAE,SAAS,IAAI,SAAS;WACzB,OAAO,CAAC,cAAc,EAAE,IAAI,CAAC;WAC7B,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC;SAC1B,MAAM,CAAC,QAAQ,CAAC;WACd,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC,KAAK,EAAE,SAAS,EAAE,YAAY,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC;WAC/E,QAAQ,CAAC,OAAO,EAAE,CAAC,CAAC,KAAK,CAAC;WAC1B,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC,QAAQ,KAAK,SAAS,GAAG,IAAI,GAAG,UAAU,CAAC;KACpE,CAAC;GACH,CAAC,CAAC;EACH,EAAE,CAAC,MAAM,CAAC,eAAe,CAAC;KACvB,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,KAAK,CAAC;KAC5B,IAAI,CAAC,GAAG,CAAC,kBAAkB,EAAE,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;EACrD,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC;KACxB,EAAE,CAAC,OAAO,EAAE,MAAM;MACjB,MAAM,KAAK,GAAG;QACZ,QAAQ,EAAE,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC;QAC9C,SAAS,EAAE,MAAM,CAAC,YAAY,CAAC,cAAc,CAAC;QAC9C,MAAM,EAAE,MAAM,CAAC,YAAY,CAAC,eAAe,CAAC;OAC7C,CAAC;MACF,OAAO,KAAK,CAAC,kBAAkB,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,KAAK,CAAC;SACtD,IAAI,CAAC,QAAQ,CAAC,CAAC;KACnB,CAAC,CAAC;CACN;;;;AAID,SAAS,gBAAgB,CAAC,WAAW,EAAE,UAAU,EAAE,SAAS,EAAE,QAAQ,EAAE;;EAEtE,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC;KACnC,gBAAgB,CAAC,UAAU,EAAE,KAAK,IAAI;MACrC,IAAI,KAAK,CAAC,OAAO,KAAK,EAAE,EAAE,KAAK,CAAC,cAAc,EAAE,CAAC;KAClD,CAAC,CAAC;EACL,MAAM,QAAQ,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC;EAC5C,MAAM,cAAc,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC;KAC7D,MAAM,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC;EACtD,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC;KACpB,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,cAAc,EAAE,MAAM,EAAE,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC;KACvE,SAAS,CAAC,IAAI,CAAC;KACf,IAAI,CAAC,SAAS,CAAC,EAAE;MAChB,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC;SAC/C,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;SAC7C,IAAI,CAAC,UAAU,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,UAAU,GAAG,IAAI,CAAC,CAAC;KACnE,CAAC,CAAC;EACL,EAAE,CAAC,MAAM,CAAC,cAAc,CAAC;KACtB,EAAE,CAAC,OAAO,EAAE,YAAY;MACvB,MAAM,KAAK,GAAG,CAAC,IAAI,GAAG,CAAC,YAAY,CAAC,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC;MAChE,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC;SACpC,KAAK,CAAC,YAAY,EAAE,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,QAAQ,CAAC;SACpD,KAAK,CAAC,UAAU,EAAE,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,UAAU,CAAC,CAAC;KACzD,CAAC,CAAC;EACL,EAAE,CAAC,MAAM,CAAC,cAAc,CAAC;KACtB,EAAE,CAAC,OAAO,EAAE,MAAM;MACjB,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;MACxD,MAAM,QAAQ,GAAG,MAAM,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;MACrD,MAAM,cAAc,GAAG,cAAc,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC;SAClD,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;SAClC,MAAM,CAAC,CAAC,IAAI,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;MACrC,MAAM,KAAK,GAAG;QACZ,IAAI,EAAE,aAAa;QACnB,YAAY,EAAE,cAAc;QAC5B,GAAG,EAAE,aAAa;QAClB,MAAM,EAAE,WAAW;OACpB,CAAC;MACF,OAAO,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC;SAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;SAClB,IAAI,CAAC,IAAI,IAAI,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;cACnD,OAAO,CAAC,KAAK,CAAC,CAAC;GAC1B,CAAC,CAAC;CACJ;;;AAGD,SAAS,eAAe,CAAC,QAAQ,EAAE;;EAEjC,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC;KACzB,EAAE,CAAC,QAAQ,EAAE,MAAM;MAClB,MAAM,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;MAChE,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,KAAK,KAAK,CAAC;MACnD,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI;QAC/B,MAAM,OAAO,GAAG,KAAK,GAAG,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACnE,MAAM,GAAG,GAAG,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QAC3C,EAAE,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,GAAG,CAAC;WACvD,IAAI,CAAC,GAAG,CAAC,kBAAkB;gBACtB,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;;QAE5D,EAAE,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;OAChD,CAAC,CAAC;KACJ,CAAC,CAAC;EACL,EAAE,CAAC,MAAM,CAAC,mBAAmB,CAAC;KAC3B,EAAE,CAAC,OAAO,EAAE,MAAM;MACjB,IAAI,OAAO,GAAG,EAAE,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,KAAK,EAAE,CAAC;MACtD,EAAE,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;;MAE5C,MAAM,QAAQ,GAAG,EAAE,CAAC;MACpB,IAAI,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,EAAE;QACnC,OAAO,GAAG,MAAM,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;OACzC;MACD,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK;QAC/B,IAAI,CAAC,CAAC,SAAS,KAAK,MAAM,EAAE;UAC1B,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,GAAG,OAAO,CAAC;UACtC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SAClB;OACF,CAAC,CAAC;MACH,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;QACvB,MAAM,EAAE,GAAG,EAAE,CAAC;QACd,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI;UAC3C,QAAQ,CAAC,OAAO,CAAC,CAAC,IAAI;YACpB,MAAM,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;eAClC,IAAI,CAAC,GAAG,IAAI;gBACX,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;eAChC,CAAC,CAAC;YACL,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;WACZ,CAAC,CAAC;SACJ,CAAC,CAAC;QACH,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;OAC/C,MAAM;QACL,QAAQ,CAAC,OAAO,CAAC,CAAC;OACnB;KACF,CAAC,CAAC;CACN;;;AAGD,SAAS,WAAW,CAAC,QAAQ,EAAE;EAC7B,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,IAAI;IACvC,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC;OAC/C,IAAI,CAAC,UAAU,EAAE,GAAG,GAAG,IAAI,GAAG,UAAU,CAAC,CAAC;GAC9C,CAAC,CAAC;EACH,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC;KACxB,EAAE,CAAC,QAAQ,EAAE,YAAY;MACxB,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC;SAC1C,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,KAAK,KAAK,GAAG,IAAI,GAAG,UAAU,CAAC,CAAC;MAC9D,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC;SAC3C,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,KAAK,QAAQ,GAAG,IAAI,GAAG,UAAU,CAAC,CAAC;KAClE,CAAC,CAAC;EACL,EAAE,CAAC,MAAM,CAAC,eAAe,CAAC;KACvB,EAAE,CAAC,OAAO,EAAE,MAAM;MACjB,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;MACxD,MAAM,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;MAC/C,MAAM,MAAM,GAAG;QACb,OAAO,EAAE,OAAO;QAChB,SAAS,EAAE,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC;QAC3C,QAAQ,EAAE,MAAM,CAAC,OAAO,CAAC,gBAAgB,CAAC;QAC1C,QAAQ,EAAE,OAAO,KAAK,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,IAAI;QACnE,WAAW,EAAE,OAAO,KAAK,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,IAAI;QACtE,aAAa,EAAE,OAAO,KAAK,KAAK,GAAG,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,GAAG,IAAI;QACxE,OAAO,EAAE,OAAO,KAAK,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,gBAAgB,CAAC,GAAG,IAAI;OACzE,CAAC;MACF,QAAQ,CAAC,MAAM,CAAC,CAAC;KAClB,CAAC,CAAC;CACN;;;AAGD,SAAS,iBAAiB,CAAC,WAAW,EAAE,OAAO,EAAE,QAAQ,EAAE;EACzD,EAAE,CAAC,MAAM,CAAC,mBAAmB,CAAC;KAC3B,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC;KAC1B,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC;KAChB,IAAI,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;EACxB,EAAE,CAAC,MAAM,CAAC,qBAAqB,CAAC;KAC7B,EAAE,CAAC,OAAO,EAAE,MAAM;MACjB,MAAM,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,mBAAmB,CAAC,CAAC;MACvD,IAAI,OAAO,GAAG,OAAO,EAAE,OAAO;MAC9B,QAAQ,CAAC,OAAO,CAAC,CAAC;KACnB,CAAC,CAAC;CACN;;;AAGD,SAAS,eAAe,CAAC,QAAQ,EAAE;EACjC,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;EACpD,EAAE,CAAC,MAAM,CAAC,mBAAmB,CAAC;KAC3B,EAAE,CAAC,OAAO,EAAE,MAAM;MACjB,MAAM,KAAK,GAAG;QACZ,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,iBAAiB,CAAC;QACrC,OAAO,EAAE,MAAM,CAAC,OAAO,CAAC,oBAAoB,CAAC;OAC9C,CAAC;MACF,QAAQ,CAAC,KAAK,CAAC,CAAC;KACjB,CAAC,CAAC;CACN;;;AAGD,SAAS,mBAAmB,CAAC,QAAQ,EAAE;EACrC,EAAE,CAAC,MAAM,CAAC,0BAA0B,CAAC;KAClC,EAAE,CAAC,OAAO,EAAE,MAAM,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC;EAC5C,EAAE,CAAC,MAAM,CAAC,yBAAyB,CAAC;KACjC,EAAE,CAAC,OAAO,EAAE,MAAM,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC;EAC3C,EAAE,CAAC,MAAM,CAAC,uBAAuB,CAAC;KAC/B,EAAE,CAAC,OAAO,EAAE,MAAM,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC;CAC1C;;;AAGD,aAAe;EACb,UAAU,EAAE,UAAU,EAAE,YAAY,EAAE,SAAS;EAC/C,YAAY,EAAE,gBAAgB,EAAE,eAAe,EAAE,WAAW;EAC5D,iBAAiB,EAAE,eAAe,EAAE,mBAAmB;CACxD,CAAC;;AC/YF,SAAS,iBAAiB,CAAC,IAAI,EAAE;EAC/B,OAAO,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC;KAC3B,IAAI,CAAC,KAAK,IAAI;MACb,IAAI,CAAC,KAAK,EAAE,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;MACzC,IAAI,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,QAAQ,EAAE,OAAO,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;;MAEpE,CAAC,CAAC,uBAAuB,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;MAC3C,OAAO,IAAI,OAAO,CAAC,GAAG,IAAI;QACxB,MAAM,CAAC,mBAAmB,CAAC,MAAM,IAAI;UACnC,IAAI,MAAM,KAAK,WAAW,EAAE;YAC1B,GAAG,CAAC,IAAI,CAAC,CAAC;WACX;UACD,IAAI,MAAM,KAAK,UAAU,EAAE;YACzB,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;YACxB,GAAG,CAAC,IAAI,CAAC,CAAC;WACX;SACF,CAAC,CAAC;OACJ,CAAC,CAAC;KACJ,CAAC;KACD,IAAI;MACH,IAAI,IAAI,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC;MACnD,EAAE,IAAI;QACJ,IAAI,EAAE,EAAE,OAAO,OAAO,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACnC,OAAO,OAAO,CAAC,MAAM,EAAE,CAAC;OACzB;KACF,CAAC;CACL;;;AAGD,SAAS,YAAY,CAAC,OAAO,CAAC,QAAQ,EAAE;EACtC,OAAO,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC;KACrC,IAAI,CAAC,IAAI,IAAI;MACZ,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,OAAO,OAAO,CAAC,MAAM,EAAE,CAAC;MAChD,OAAO,IAAI,CAAC;KACb,CAAC;KACD,IAAI,CAAC,IAAI,IAAI;MACZ,MAAM,KAAK,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC;MAC9C,OAAO,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC;SAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;SAClB,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;KAC3C,EAAE,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC;CAC/B;;;AAGD,SAAS,MAAM,GAAG;;;;;;;;;;;;;;EAchB,IAAI,eAAe,IAAI,SAAS,IAAI,CAAC,KAAK,EAAE;IAC1C,SAAS,CAAC,aAAa;OACpB,QAAQ,CAAC,OAAO,CAAC;OACjB,IAAI,CAAC,GAAG,IAAI;QACX,OAAO,CAAC,IAAI,CAAC,oDAAoD,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;OAC/E,CAAC,CAAC,KAAK,CAAC,GAAG,IAAI;QACd,OAAO,CAAC,IAAI,CAAC,qCAAqC,EAAE,GAAG,CAAC,CAAC;OAC1D,CAAC,CAAC;GACN,MAAM,IAAI,KAAK,EAAE;IAChB,OAAO,CAAC,IAAI,CAAC,yCAAyC,CAAC,CAAC;GACzD,MAAM;IACL,OAAO,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;GAChD;EACD,MAAM,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;KACjC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;KAClB,KAAK,CAAC,MAAM,IAAI,CAAC,CAAC;EACrB,MAAM,KAAK,GAAG,KAAK,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;EACpD,OAAO,OAAO,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI;IAC7C,MAAM,YAAY,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAC3B,MAAM,cAAc,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;IAC7B,IAAI,CAAC,YAAY,EAAE,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAChD,IAAI,YAAY,CAAC,QAAQ,KAAK,cAAc,EAAE;MAC5C,OAAO,CAAC,IAAI,CAAC,uCAAuC,CAAC,CAAC;MACtD,OAAO,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;KACtC,MAAM;MACL,OAAO,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;SACzB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;SAClB,IAAI,CAAC,MAAM,IAAI;UACd,OAAO,CAAC,IAAI,CAAC,CAAC,6BAA6B,EAAE,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;UACtE,OAAO,OAAO,CAAC,GAAG,CAAC;YACjB,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC,SAAS,CAAC;YACpC,KAAK,CAAC,aAAa,CAAC,WAAW,EAAE,MAAM,CAAC,SAAS,CAAC;YAClD,KAAK,CAAC,aAAa;cACjB,uBAAuB,EAAE,MAAM,CAAC,qBAAqB,CAAC;YACxD,KAAK,CAAC,aAAa,CAAC,gBAAgB,EAAE,YAAY,CAAC,QAAQ,CAAC;YAC5D,KAAK,CAAC,aAAa,CAAC,OAAO,EAAE,YAAY,CAAC,KAAK,CAAC;WACjD,CAAC;WACD,IAAI,CAAC,MAAM,OAAO,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;SAC5C,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;KACrB;GACF,CAAC,CAAC;CACJ;;;AAGD,aAAe;EACb,iBAAiB,EAAE,YAAY,EAAE,MAAM;CACxC,CAAC;;ACvGF,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,MAAM;EAC5C,MAAM,MAAM,GAAG,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;EAC/C,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;KAC5C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;KAClB,IAAI,CAAC,OAAO,IAAI;MACf,MAAM,OAAO,GAAG;QACd,MAAM,EAAE;UACN,CAAC,GAAG,EAAE,UAAU,CAAC;UACjB,CAAC,GAAG,EAAE,MAAM,CAAC;SACd;QACD,OAAO,EAAE,EAAE;OACZ,CAAC;MACF,MAAM,SAAS,GAAG,EAAE,CAAC;MACrB,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI;QACnB,MAAM,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC;QACjD,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI;;;UAGpB,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;SAC1C,CAAC,CAAC;QACH,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAChC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;OAC3B,CAAC,CAAC;MACH,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;MACjD,MAAM,aAAa,GAAG,CAAC,IAAI,EAAE,eAAe,CAAC,CAAC;MAC9C,MAAM,YAAY,GAAG,CAAC,IAAI,EAAE,mBAAmB,CAAC,CAAC;MACjD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,EAAE,CAAC,EAAE,EAAE;QACjC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5C,aAAa,CAAC,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,iDAAiD,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC;QAClG,YAAY,CAAC,CAAC,KAAK,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,iDAAiD,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC;OAClG;MACD,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;MACpC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;MACnC,OAAO,OAAO,CAAC;KAChB,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI;MACjB,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,OAAO,CAAC;SACnD,IAAI,CAAC,GAAG,CAAC,kBAAkB,EAAE,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC;MAClE,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC;SACvC,EAAE,CAAC,OAAO,EAAE,MAAM;UACjB,MAAM,IAAI,GAAG,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;UAC5C,MAAM,IAAI,GAAG,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;UAC5C,MAAM,UAAU,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,GAAG,UAAU,CAAC;UACrE,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;UAC1D,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;SAC1D,CAAC,CAAC;KACN,CAAC,CAAC;CACN,CAAC,CAAC;;;AAGH,EAAE,CAAC,MAAM,CAAC,iBAAiB,CAAC;GACzB,EAAE,CAAC,OAAO,EAAE,MAAM;IACjB,MAAM,KAAK,GAAG;MACZ,KAAK,EAAE,EAAE,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ;MACvE,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC;MACpC,IAAI,EAAE,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC;KACrC,CAAC;IACF,OAAO,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,KAAK,CAAC;OAC/C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;OAClB,IAAI,CAAC,IAAI,IAAI;QACZ,EAAE,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QACrD,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC;WACpD,IAAI,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,CAAC;OAClE,CAAC,CAAC;GACN,CAAC,CAAC;;;AAGL,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC;GACxB,EAAE,CAAC,OAAO,EAAE,MAAM;IACjB,MAAM,KAAK,GAAG;MACZ,KAAK,EAAE,EAAE,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,QAAQ;MACvE,QAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,YAAY,CAAC;MACpC,IAAI,EAAE,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC;MACpC,IAAI,EAAE,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC;KACrC,CAAC;IACF,OAAO,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,KAAK,CAAC;OAC3C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;OAClB,IAAI,CAAC,IAAI,IAAI;QACZ,KAAK,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;OACrD,CAAC,CAAC;GACN,CAAC,CAAC;;;AAGL,EAAE,CAAC,MAAM,CAAC,SAAS,CAAC;GACjB,EAAE,CAAC,OAAO,EAAE,MAAM;IACjB,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,UAAU;MACzC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,MAAM,KAAK,CAAC,GAAG,UAAU,GAAG,IAAI;KACzD,CAAC;GACH,CAAC,CAAC;AACL,EAAE,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,UAAU;EACzC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,MAAM,KAAK,CAAC,GAAG,UAAU,GAAG,IAAI;CACzD,CAAC;;;AAGF,SAAS,GAAG,GAAG;EACb,OAAO,MAAM,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,MAAM;IAChC,OAAO,KAAK,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI;MACpD,EAAE,CAAC,MAAM,CAAC,YAAY,CAAC;SACpB,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC,EAAE,IAAI,EAAE,eAAe,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;cAC5D,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;KACzC,CAAC,CAAC;GACJ,CAAC,CAAC;;CAEJ;;;AAGD,aAAe;EACb,GAAG;CACJ,CAAC;;;;;;;;"}