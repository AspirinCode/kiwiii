{"version":3,"file":"kwgraph.js","sources":["../src/helper/d3Selection.js","../src/helper/d3Scale.js","../src/helper/definition.js","../src/helper/file.js","../src/store/IDBStore.js","../src/fetcher/Fetcher.js","../src/fetcher/LocalServer.js","../src/fetcher/Screener.js","../src/fetcher/ScreenerTestStub.js","../src/store/StoreConnection.js","../src/Loader.js","../src/component/Header.js","../src/helper/dataStructure.js","../src/helper/formatValue.js","../src/component/Component.js","../src/component/Dialog.js","../src/graph/GraphForce.js","../src/graph/GraphControlBox.js","../src/graph/GraphComponent.js","../src/graph/GraphInteraction.js","../src/graph/communityDetection.js","../src/graph.js"],"sourcesContent":["\nimport d3 from 'd3';\n\n\nexport function formValue(selector) {\n  return d3.select(selector).node().value;\n}\n\n\nexport function formInt(selector) {\n  return parseInt(d3.select(selector).node().value);\n}\n\n\nexport function formFloat(selector) {\n  return parseFloat(d3.select(selector).node().value);\n}\n\n\nexport function formChecked(selector) {\n  return d3.select(selector).node().checked;\n}\n\n\nexport function firstFile(selector) {\n  return d3.select(selector).node().files[0];\n}\n\n\nexport function checkboxValues(selector) {\n  return d3.selectAll(selector).selectAll('input:checked').nodes().map(e => e.value);\n}\n\n\nexport function selectedOptionValues(selector) {\n  return d3.selectAll(selector).selectAll('select').nodes().map(e => e.value);\n}\n\n\nexport function textareaLines(selector) {\n  return d3.select(selector).node().value.split('\\n').filter(e => e.length > 0);\n}\n\n\nexport function selectedOptionData(selector) {\n  const si = d3.select(selector).property('selectedIndex');\n  return d3.select(selector).selectAll('option').data().find((d, i) => i === si);\n}\n\n\nexport function selectedCheckboxesData(selector) {\n  return d3.selectAll(selector).selectAll('input:checked').data();\n}\n","\nimport d3 from 'd3';\n\nconst categoryMany = d3.schemeSet1\n  .concat(d3.schemeSet3, d3.schemePastel2, d3.schemeSet2);\nconst defaultSizeRange = [20, 80];\n\nexport const colorPresets = [\n  {\n    name: 'Activity',\n    scale: {\n      scale: 'log',\n      domain: [1e-4, 1e-6],\n      range: ['#708090', '#7fffd4'],\n      unknown: '#696969'\n    }\n  },\n  {\n    name: 'Percent',\n    scale: {\n      scale: 'linear',\n      domain: [0, 100],\n      range: ['#708090', '#7fffd4'],\n      unknown: '#696969'\n    }\n  },\n  {\n    name: 'True or False',\n    scale: {\n      scale: 'quantize',\n      domain: [1, 0],\n      range: ['#708090', '#7fffd4'],\n      unknown: '#696969'\n    }\n  },\n  {\n    name: 'LogP',\n    scale: {\n      scale: 'linear',\n      domain: [-2, 8],\n      range: ['#6495ed', '#ccff66', '#ffa500'],\n      unknown: '#696969'\n    }\n  },\n  {\n    name: 'Categories',\n    scale: {\n      scale: 'ordinal',\n      range: d3.schemeCategory20,\n      unknown: '#dedede'\n    }\n  },\n  {\n    name: 'ManyCategories',\n    scale: {\n      scale: 'ordinal',\n      range: categoryMany,\n      unknown: '#dedede'\n    }\n  }\n];\n\nexport const sizePresets = [\n  {\n    name: 'Activity',\n    scale: {\n      scale: 'log',\n      domain: [1e-4, 1e-6],\n      range: defaultSizeRange,\n      unknown: defaultSizeRange[0]\n    }\n  },\n  {\n    name: 'Percent',\n    scale: {\n      scale: 'linear',\n      domain: [0, 100],\n      range: defaultSizeRange,\n      unknown: defaultSizeRange[0]\n    }\n  },\n  {\n    name: 'True or False',\n    scale: {\n      scale: 'quantize',\n      domain: [1, 0],\n      range: defaultSizeRange,\n      unknown: defaultSizeRange[0]\n    }\n  },\n  {\n    name: 'LogP',\n    scale: {\n      scale: 'linear',\n      domain: [-2, 6],\n      range: defaultSizeRange,\n      unknown: defaultSizeRange[0]\n    }\n  }\n];\n\nexport const edgeWidthPresets = [\n  {\n    name: 'Universal',\n    scale: {\n      scale: 'linear',\n      domain: [0.3, 1],\n      range: [0.5, 5],\n      unknown: 1\n    }\n  },\n  {\n    name: 'Thin',\n    scale: {\n      scale: 'linear',\n      domain: [0.5, 1],\n      range: [0.5, 3],\n      unknown: 1\n    }\n  },\n  {\n    name: 'Amplified',\n    scale: {\n      scale: 'linear',\n      domain: [0.5, 1],\n      range: [1, 10],\n      unknown: 1\n    }\n  }\n];\n\nexport const colorPalette = [\n  {name: 'Aquamarine', range: ['#778899', '#7fffd4'], unknown: '#696969'},\n  {name: 'Chartreuse', range: ['#778899', '#7fff00'], unknown: '#696969'},\n  {name: 'Salmon', range: ['#778899', '#fa8072'], unknown: '#696969'},\n  {name: 'Violet', range: ['#778899', '#ee82ee'], unknown: '#696969'},\n  {name: 'blue-red', range: ['#87ceeb', '#fff5ee', '#fa8072'], unknown: '#696969'},\n  {name: 'Spectrum', range: ['#6495ed', '#ccff66', '#ffa500'], unknown: '#696969'}\n];\n\nexport const scaleTypes = [\n  {name: 'linear', func: d3.scaleLinear()},\n  {name: 'log', func: d3.scaleLog()},\n  {name: 'quantize', func: d3.scaleQuantize()},\n  {name: 'ordinal', func: d3.scaleOrdinal()}\n];\n\nexport const sizeScaleTypes = [\n  {name: 'linear', func: d3.scaleLinear()},\n  {name: 'log', func: d3.scaleLog()},\n  {name: 'quantize', func: d3.scaleQuantize()}\n];\n\nexport function scaleFunction(scale) {\n  let sf = scaleTypes.find(e => e.name === scale.scale).func;\n  let domain = scale.domain;\n  if (scale.range.length === 3) {\n    const mid = (parseFloat(scale.domain[0]) + parseFloat(scale.domain[1])) / 2;\n    domain = [scale.domain[0], mid, scale.domain[1]];\n  }\n  if (scale.scale !== 'ordinal') {\n    sf = sf.domain(domain);\n  }\n  sf = sf.range(scale.range);\n  if (['linear', 'log'].includes(scale.scale)) {\n    sf = sf.clamp(true);\n  }\n  return d => {\n    if (d === '' || typeof d === 'undefined' || d === null) {\n      return scale.unknown;\n    }\n    if (scale.scale !== 'ordinal' && parseFloat(d) != d) {\n      return scale.unknown;\n    }\n    if (scale.scale === 'log' && d <= 0) {\n      return scale.unknown;\n    }\n    const result = sf(d);\n    if (result === undefined) {\n      return scale.unknown;\n    }\n    return result;\n  };\n}\n","\nexport function fetchable(tbl) {\n  return ['In progress', 'Queued', 'Aborting'].includes(tbl.status);\n}\n\n\nexport function abortRequestable(tbl) {\n  return ['In progress', 'Queued'].includes(tbl.status);\n}\n\n\nexport function conclike(col) {\n  return col.hasOwnProperty('valueType')\n    && ['AC50', 'IC50', 'ED50'].includes(col.valueType);\n}\n\n\nexport function dataSourceId(domain, resource, column) {\n  return [domain, resource, column]\n    .map(e => e.capitalize())\n    .join('');  // DomainResourceColumn\n}\n","\nimport pako from 'pako';\n\n\nexport function readFile(file, sizeLimit, blob) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    const truncated = sizeLimit ? file.slice(0, sizeLimit) : file;\n    reader.onload = event => resolve(event.target.result);\n    reader.onerror = error => reject(error);\n    if (blob) {\n      reader.readAsArrayBuffer(truncated);\n    } else {\n      reader.readAsText(truncated);\n    }\n  });\n}\n\n\nexport function parseJSON(data, compressed) {\n  const text = compressed ? pako.inflate(data, {to: 'string'}) : data;\n  return JSON.parse(text);\n}\n\n\nexport function loadJSON(file) {\n  const compressed = file.name.endsWith('.gz');\n  return readFile(file, false, compressed)\n    .then(data => parseJSON(data, compressed));\n}\n\n\nexport function fetchJSON(url) {\n  const decoded = decodeURIComponent(url);\n  const compressed = decoded.endsWith('.gz');\n  return fetch(decoded)\n    .then(res => compressed ? res.arrayBuffer() : res.json())\n    .then(data => parseJSON(data, compressed));\n}\n\n\nexport function downloadDataFile(data, name) {\n  try {\n    // cannot hundle large file with dataURI scheme\n    // url = \"data:application/json,\" + encodeURIComponent(JSON.stringify(json))\n    const url = window.URL.createObjectURL(new Blob([data]));\n    const a = document.createElement('a');\n    a.download = name;\n    a.href = url;\n    // a.click() does not work on firefox\n    a.dispatchEvent(new MouseEvent(\"click\", {\n      \"view\": window,\n      \"bubbles\": true,\n      \"cancelable\": false\n    }));\n    // window.URL.revokeObjectURL(url) does not work on firefox\n  } catch (e) {\n    // no DOM (unit testing)\n  }\n}\n\n\nexport function downloadJSON(json, name, compress=true) {\n  const str = JSON.stringify(json);\n  const data = compress ? pako.gzip(str) : str;\n  const ext = compress ? '.gz' : '';\n  downloadDataFile(data, `${name}.json${ext}`);\n}\n","\nimport Dexie from 'Dexie';\n\n// TODO: can indexed records improve query performance ?\n// TODO: remove app table. no longer used\n\nconst schema = {\n  app: 'key',\n  items: 'id, format, responseDate',\n  resources: 'idx, id'\n};\n\nlet idb = new Dexie('Store');\nidb.version(1).stores(schema);\n\n\nfunction getAppSetting(key) {\n  return idb.app.where('key').equals(key).first()\n    .then(res => {\n      if (res === undefined) return undefined;\n      return res.value;\n    });\n}\n\n\nfunction putAppSetting(k, v) {  // returns id in success\n  return idb.app.put({ key: k, value: v });\n}\n\n\nfunction getResources() {\n  return idb.resources.orderBy('idx')\n    .toArray();\n}\n\n\nfunction putResources(data) { // returns last id in success\n  return idb.resources.bulkPut(data);\n}\n\n\nfunction getAllItems() {\n  return idb.items.orderBy('responseDate').reverse()\n    .toArray();\n}\n\n\nfunction getItemsByFormat(format) {\n  return idb.items.where('format').equals(format).reverse()\n    .sortBy('responseDate');\n}\n\n\nfunction getItemById(tableId) {\n  return idb.items.where('id').equals(tableId).first();\n}\n\n\nfunction updateItem(tableId, callback) {  // returns num of updated items\n  return idb.items.where('id').equals(tableId).modify(callback);\n}\n\n\nfunction deleteItem(tableId) { // returns num of deleted items\n  return idb.items.where('id').equals(tableId).delete();\n}\n\n\nfunction putItem(data) { // returns id in success\n  return idb.items.put(data);\n}\n\n\nfunction reset() {\n  // Try this before tackling with local db troubles\n  return idb.delete().then(() => {\n    idb = new Dexie('Store');\n    idb.version(1).stores(schema);\n  });\n}\n\nexport default {\n  getAppSetting, putAppSetting, getResources, putResources,\n  getAllItems, getItemsByFormat, getItemById,\n  updateItem, deleteItem, putItem, reset\n};\n","\nexport default class Fetcher {\n  constructor() {\n    this.baseURL = \"\";\n    this.available = false;\n  }\n\n  xhrRequest(url, formData=null, options={}) {\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n      xhr.open('method' in options ? options.method : 'POST', url);\n      xhr.responseType = 'responseType' in options ? options.responseType : 'json';\n      xhr.withCredentials = 'withCredentials' in options ? options.withCredentials : false;\n      xhr.onload = () => {\n        if (xhr.status !== 200) {\n          reject(xhr);\n        } else {\n          resolve(xhr.response);\n        }\n      };\n      xhr.send(formData);\n    });\n  }\n\n  now() {\n    const now = new Date();\n    return now.toString();\n  }\n\n  getResources() {\n    // required\n  }\n\n  formatResult(cols, data) {\n    // to be called by store.updateTable\n    // required for chemical domain\n    data.lastUpdated = this.now();\n    return data;\n  }\n\n  getRecords() {\n    // required\n  }\n\n  getRecordsByCompound() {\n    // required for activity domain\n  }\n\n  getMapping() {\n    // required for activity domain\n  }\n\n  getGraphEdges() {\n\n  }\n}\n","\nimport {default as Fetcher} from './Fetcher.js';\n\n\nexport class LocalServerActivity extends Fetcher {\n  constructor() {\n    super();\n    this.baseURL = './';\n    this.domain = 'activity';\n    this.entities = [];\n  }\n\n  serializedRequest(url, query={}) {\n    const formData = new FormData();\n    formData.set('query', JSON.stringify(query));\n    return fetch(`${this.baseURL}${url}`,\n      {method: 'post', body: formData, credentials: 'include'});\n  }\n\n  request(url, query={}) {\n    const formData = new FormData();\n    const qmap = new Map(Object.entries(query));\n    qmap.forEach((v, k) => {\n      if (Array.isArray(v)) {\n        v.forEach(e => formData.append(k, e));\n      } else {\n        formData.set(k, v);\n      }\n    });\n    return fetch(`${this.baseURL}${url}`,\n      {method: 'post', body: formData, credentials: 'include'});\n  }\n\n  getResources() {\n    return this.request('schema', {domain: this.domain})\n      .then(res => res.json())\n      .then(json => {\n        json.resources.forEach(rsrc => {\n          rsrc.domain = this.domain;\n          rsrc.columns.forEach(col =>{\n            if (!col.hasOwnProperty('name')) col.name = col.key;\n            if (!col.hasOwnProperty('dataColumn')) col.dataColumn = col.key;\n            if (!col.hasOwnProperty('method')) col.method = 'sql';\n            col.visible = true;\n          });\n          this.entities.push(rsrc.entity);\n        });\n        this.available = true;\n        return json.resources;\n      });\n  }\n\n  getRecords(queries) {\n    return this.serializedRequest('sql', queries)\n      .then(res => res.json())\n      .then(json => {\n        json.domain = this.domain;\n        return json;\n      });\n  }\n\n  getRecordsByCompound(compound) {\n    // TODO: this.entities\n    const query = {\n      method: 'sql',\n      targets: this.entities,\n      key: 'ID',\n      values: [compound],\n      operator: 'eq'\n    };\n    return this.getRecords(query);\n  }\n\n  getMapping(ids, column) {\n    const query = {\n      method: 'sql',\n      targets: [column.entity],\n      key: 'ID',\n      values: ids,\n      operator: 'fm'\n    };\n    return this.serializedRequest('sql', query)\n      .then(res => res.json())\n      .then(json => {\n        const mapping = {};\n        json.records.filter(row => row.hasOwnProperty(column.dataColumn))\n          .forEach(row => { mapping[row.ID] = row[column.dataColumn]; });\n        return {\n          key: query.key,\n          column: column,\n          mapping: mapping,\n          lastUpdated: this.now(),\n        };\n      });\n  }\n\n  status() {\n    return this.request('server').then(res => res.json());\n  }\n\n  templates() {\n    return this.request('templates').then(res => res.json());\n  }\n\n  strprev(query) {\n    return this.serializedRequest('strprev', query).then(res => res.text());\n  }\n\n  exportExcel(query) {\n    return this.request('xlsx', query).then(res => res.blob());\n  }\n\n  exportSDFile(query) {\n    return this.request('exportsdf', query).then(res => res.text());\n  }\n\n  reportPreview(query) {\n    return this.request('reportprev', query).then(res => res.json());\n  }\n\n  report(query) {\n    return this.request('report', query).then(res => res.blob());\n  }\n}\n\n\nexport class LocalServerChemical extends LocalServerActivity {\n  constructor() {\n    super();\n    this.domain = 'chemical';\n    this.hiddenColumns = [\"_mw\", \"_mw_wo_sw\", \"_formula\", \"_logp\", \"_nonH\"];\n  }\n\n  formatResult(cols, data) {\n    if (cols.length === 0) {  // sdf\n      data.columns.forEach(col => {\n        col.visible = this.hiddenColumns.includes(col.key) ? false : true;\n      });\n      return data;\n    }\n    Array.prototype.push.apply(data.columns, cols);\n    if (data.hasOwnProperty('extraColumns')) {\n      Array.prototype.push.apply(data.columns, data.extraColumns);\n      delete data.extraColumns;\n    }\n    data.columns.forEach(col => {\n      if (!col.hasOwnProperty('name')) col.name = col.key;\n      if (col.key === data.query.key) {\n        col.visible = true;  // Search key\n      } else {\n        col.visible = this.hiddenColumns.includes(col.key) ? false : true;\n      }\n    });\n    data.lastUpdated = this.now();\n    return data;\n  }\n\n  getResources() {\n    return this.request('schema', {domain: this.domain})\n      .then(res => res.json())\n      .then(json => {\n        json.resources.forEach(rsrc => {\n          rsrc.domain = this.domain;\n          rsrc.columns.forEach(col =>{\n            if (!col.hasOwnProperty('name')) col.name = col.key;\n            if (!col.hasOwnProperty('dataColumn')) col.dataColumn = col.key;\n            if (!col.hasOwnProperty('method')) col.method = 'chemsql';\n            col.visible = true;\n          });\n        });\n        this.available = true;\n        return json.resources;\n      });\n  }\n\n  getRecords(query) {\n    let url;\n    if (query.hasOwnProperty('command')) {\n      url = 'rows';\n    } else if (query.hasOwnProperty('nodeTableId')) {\n      url = 'graph';\n    } else if (['chemsql', 'sql'].includes(query.method)) {\n      url = 'sql';\n    } else {\n      url = 'compute';\n    }\n    return this.serializedRequest(url, query)\n      .then(res => res.json())\n      .then(json => {\n        json.domain = this.domain;\n        return json;\n      });\n  }\n\n  importSDF(query) {\n    return this.request('sdf', query)\n    .then(res => res.json())\n    .then(json => {\n      json.domain = this.domain;\n      json.columns.forEach(col =>{\n        col.visible = this.hiddenColumns.includes(col.key) ? false : true;\n      });\n      const now = new Date();\n      json.lastUpdated = now.toString();\n      return json;\n    });\n  }\n}\n","\nimport {default as Fetcher} from './Fetcher.js';\n\n\nexport class ScreenerFitting extends Fetcher {\n  constructor() {\n    super();\n    this.resourceFile = 'screener_fitting.yaml';\n    this.domain = null;\n    this.baseURL = null;\n  }\n\n  getResources() {\n    const formData = new FormData();\n    formData.set('filename', this.resourceFile);\n    return fetch('source', {method: 'post', body: formData, credentials: 'include'})\n      .then(res => res.json())\n      .then(json => {\n        if (json.hasOwnProperty('enabled') && json.enabled === false) return;\n        this.available = true;\n        this.domain = json.domain;\n        this.baseURL = json.url;\n        return json.resources.map(rsrc => {\n          rsrc.domain = json.domain;\n          rsrc.entity = `${rsrc.qcsRefId}:${rsrc.layerIndex}`;\n          delete rsrc.qcsRefId;\n          delete rsrc.layerIndex;\n          rsrc.columns.forEach(col => {\n            if (!col.hasOwnProperty('name')) col.name = col.key;\n            if (!col.hasOwnProperty('dataColumn')) col.dataColumn = col.key;\n            col.visible = true;\n          });\n          return rsrc;\n        });\n    });\n  }\n\n  request(queryString) {\n    return fetch(`${this.baseURL}${queryString}`, {\n      method: 'GET',\n      credentials : 'include'\n    }).then(res => res.json());\n  }\n\n  requestRecords(queryString) {\n    return this.request(queryString)\n      .then(json => {\n        const rcds = json.compounds.map(c => {\n          return {\n            ID: c.compoundId,\n            qcsRefId: c.qcsRefId,\n            layerIndex: c.layerIndex,\n            drcPlot: c.fitting.drcPlot,\n            AC50: c.fitting.linearAC50,\n            hill: Math.round(c.fitting.hillCoefficient * 100) / 100\n          };\n        });\n        return { records: rcds };\n      });\n  }\n\n  getRecords(q) {\n    const joinedIds = q.qcsRefIds.join('%2C');\n    const queryString = `/compounds?qcsRefIds=${joinedIds}\\\n&layerIndices=${q.layerIndex - 1}\\\n&fields=compoundId%2Cfitting.drcPlot%2Cfitting.linearAC50%2Cfitting.hillCoefficient`;\n    return this.requestRecords(queryString);\n  }\n\n  getRecordsByCompound(compound) {\n    const queryString = `/compounds?q=compoundId%3A${compound}\\\n&fields=compoundId%2CqcsRefId%2ClayerIndex\\\n%2Cfitting.drcPlot%2Cfitting.linearAC50%2Cfitting.hillCoefficient`;\n    return this.requestRecords(queryString);\n  }\n\n  getMapping(ids, column) {\n    const refid_layer = column.entity.split(':');\n    const query = {\n      qcsRefId: refid_layer[0],\n      layerIndex: parseInt(refid_layer[1])\n    };\n    return this.getRecords(query).then(res => {\n      const mapping = {};\n      res.records.filter(row => ids.includes(row.ID))\n        .forEach(row => { mapping[row.ID] = row[column.dataColumn]; });\n      return {\n        key: 'ID',\n        column: column,\n        mapping: mapping,\n        lastUpdated: this.now()\n      };\n    });\n  }\n\n  getDrcPlot(compoundId, plotId, min = -20, max = 120) {\n    // compoundResult.fitting.drcPlot -> drcPlots/idstring\n    // returns image/png\n    const queryString = `/${plotId}?width=180&height=180&title=compoundId\\\n&activityRangeMin=${min}&activityRangeMax=${max}`;\n    return this.request(queryString);\n  }\n\n  getQcsInfo(qcsRefIds) {\n    const ids = qcsRefIds.map(e => `qcsRefId:${e}`).join(' OR ');\n    const queryString = `/qcSessions?q=${ids}`;\n    return this.request(queryString).then(res => res.qcSessions);\n  }\n}\n\n\nexport class ScreenerRawValue extends ScreenerFitting{\n  constructor() {\n    super();\n    this.resourceFile = 'screener_rawvalue.yaml';\n  }\n\n  getResources() {\n    const formData = new FormData();\n    formData.set('filename', this.resourceFile);\n    return fetch('source', {method: 'post', body: formData, credentials: 'include'})\n      .then(res => res.json())\n      .then(json => {\n        if (json.hasOwnProperty('enabled') && json.enabled === false) return;\n        this.available = true;\n        this.domain = json.domain;\n        this.baseURL = json.url;\n        return json.resources.map(rsrc => {\n          rsrc.domain = json.domain;\n          rsrc.entity = `${rsrc.qcsRefId}:${rsrc.layerIndex}`;\n          delete rsrc.qcsRefId;\n          delete rsrc.layerIndex;\n          rsrc.columns.forEach(col => {\n            col.key = 'rawValue';\n            if (!col.hasOwnProperty('name')) col.name = col.key;\n            if (!col.hasOwnProperty('dataColumn')) col.dataColumn = col.key;\n            col.visible = true;\n          });\n          return rsrc;\n        });\n      });\n  }\n\n  requestRecords(queryString, pred) {\n    return this.request(queryString).then(res => {\n      const rcds = res.plates.filter(plt => plt.wells.hasOwnProperty('compoundIds'))\n        .map(plt => {\n          return plt.wells.compoundIds.map((c, i) => {\n            return {\n              ID: c,\n              qcsRefId: plt.qcsRefId,\n              layerIndex: plt.layerIndex,\n              rawValue: plt.wells.rawValues[i]\n            };\n          }).filter(pred);\n        }).extend();\n      return { records: rcds };\n    });\n  }\n\n  getRecords(q) {\n    const joinedIds = q.qcsRefIds.join('%2C');\n    const queryString = `/plates?qcsRefIds=${joinedIds}\\\n&layerIndices=${q.layerIndex - 1}\\\n&limit=200\\\n&fields=wells.rawValues%2Cwells.compoundIds`;\n    return this.requestRecords(queryString, e => e.ID !== null);\n  }\n\n  getRecordsByCompound(compound) {\n    const queryString = `/plates?q=wells.compoundIds%3A${compound}\\\n&fields=wells.rawValues%2Cwells.compoundIds`;\n    return this.requestRecords(queryString, e => e.ID === compound);\n  }\n}\n\n\n/*\nfunction request(query) {\n  return store.getDBResources('activity')\n    .then(rsrc => {\n      const url = `${rsrc.find(e => e.id === 'screenerapi').url}${query}`;\n      return server.request(url, null, {\n        method: 'GET',\n        responseType: 'json',\n        withCredentials : true\n      });\n    });\n}\n\n\nfunction getRawValuesByQcs(qcsRefIds, layerIndex) {\n  const joined = qcsRefIds.join('%2C');\n  const query = `/plates?qcsRefIds=${joined}\\\n&layerIndices=${layerIndex - 1}\\\n&limit=200\\\n&fields=wells.rawValues%2Cwells.compoundIds`;\n  return request(query).then(res => {\n    const rcds = [];\n    res.plates.forEach(plt => {\n      if (!plt.wells.hasOwnProperty('compoundIds')) return;  // unmapped\n      const values = plt.wells.compoundIds.map((c, i) => {\n        if (c !== null) return { ID: c, rawValue: plt.wells.rawValues[i]};\n      }).filter(e => e !== undefined);\n      Array.prototype.push.apply(rcds, values);\n    });\n    const now = new Date();\n    return {\n      created: now.toString(),\n      records: rcds\n    };\n  });\n}\nexports.getRawValuesByQcs = getRawValuesByQcs;\n\n\nfunction getRawValuesMappingColumn(qcsRefIds, layerIndex, compoundIds) {\n  const joined = qcsRefIds.join('%2C');\n  const query = `/plates?qcsRefIds=${joined}\\\n&layerIndices=${layerIndex - 1}\\\n&limit=200\\\n&fields=wells.rawValues%2Cwells.compoundIds`;\n  return request(query).then(res => {\n    const mapping = {};\n    res.plates.forEach(plt => {\n      if (!plt.wells.hasOwnProperty('compoundIds')) return;  // unmapped\n      plt.wells.compoundIds.forEach((c, i) => {\n        if (compoundIds.includes(c)) {\n          mapping[c] = plt.wells.rawValues[i];\n        }\n      });\n    });\n    const now = new Date();\n    return {\n      created: now.toString(),\n      mapping: mapping\n    };\n  });\n}\nexports.getRawValuesMappingColumn = getRawValuesMappingColumn;\n\n\nfunction getRawValuesByCompound(compoundId) {\n  const query = `/plates?q=wells.compoundIds%3A${compoundId}\\\n&fields=wells.rawValues%2Cwells.compoundIds`;\n  return request(query).then(res => {\n    const rcds = [];\n    res.plates.forEach(plt => {\n      if (!plt.wells.hasOwnProperty('compoundIds')) return;  // unmapped\n      const i = plt.wells.compoundIds.findIndex(c => c === compoundId);\n      rcds.push({\n        qcsRefId: plt.qcsRefId,\n        layerIndex: plt.layerIndex,\n        rawValue: plt.wells.rawValues[i]\n      });\n    });\n    const now = new Date();\n    return {\n      created: now.toString(),\n      records: rcds\n    };\n  });\n}\nexports.getRawValuesByCompound = getRawValuesByCompound;\n\n\nfunction getFittingByQcs(qcsRefIds, layerIndex) {\n  const joined = qcsRefIds.join('%2C');\n  const query = `/compounds?qcsRefIds=${joined}\\\n&layerIndices=${layerIndex - 1}\\\n&fields=compoundId%2Cfitting.drcPlot%2Cfitting.linearAC50%2Cfitting.hillCoefficient`;\n  return request(query).then(res => {\n    const rcds = res.compounds.map(c => {\n      return {\n        ID: c.compoundId,\n        drcPlot: c.fitting.drcPlot,\n        AC50: c.fitting.linearAC50,\n        hill: Math.round(c.fitting.hillCoefficient * 100) / 100\n      };\n    });\n    const now = new Date();\n    return {\n      created: now.toString(),\n      records: rcds\n    };\n  });\n}\nexports.getFittingByQcs = getFittingByQcs;\n\n\nfunction getAC50MappingColumn(qcsRefIds, layerIndex, compoundIds) {\n  const joined = qcsRefIds.join('%2C');\n  const query = `/compounds?qcsRefIds=${joined}\\\n&layerIndices=${layerIndex - 1}\\\n&fields=compoundId%2Cfitting.linearAC50`;\n  return request(query).then(res => {\n    const mapping = {};\n    res.compounds.forEach(c => {\n      if (compoundIds.includes(c.compoundId)) {\n        mapping[c] = c.fitting.linearAC50;\n      }\n    });\n    const now = new Date();\n    return {\n      created: now.toString(),\n      mapping: mapping\n    };\n  });\n}\nexports.getAC50MappingColumn = getAC50MappingColumn;\n\n\nfunction getFittingByCompound(compoundId) {\n  const query = `/compounds?q=compoundId%3A${compoundId}\\\n&fields=compoundId%2CqcsRefId%2ClayerIndex\\\n%2Cfitting.drcPlot%2Cfitting.linearAC50%2Cfitting.hillCoefficient`;\n  return request(query).then(res => {\n    const rcds = res.compounds.map(c => {\n      return {\n        ID: c.compoundId,\n        drcPlot: c.fitting.drcPlot,\n        AC50: c.fitting.linearAC50,\n        hill: Math.round(c.fitting.hillCoefficient * 100) / 100,\n        qcsRefId: c.qcsRefId,\n        layerIndex: c.layerIndex\n      };\n    });\n    const now = new Date();\n    return {\n      created: now.toString(),\n      records: rcds\n    };\n  });\n}\nexports.getFittingByCompound = getFittingByCompound;\n\n\nfunction getDrcPlot(compoundId, plotId, min = -20, max = 120) {\n  const query = `/${plotId}?width=180&height=180&title=compoundId\\\n&activityRangeMin=${min}&activityRangeMax=${max}`;\n  return request(query);\n}\nexports.getDrcPlot = getDrcPlot;\n\n\nfunction getQcsInfo(qcsRefIds) {\n  const ids = qcsRefIds.map(e => `qcsRefId:${e}`).join(' OR ');\n  const query = `/qcSessions?q=${ids}`;\n  return request(query).then(res => res.qcSessions);\n}\nexports.getQcsInfo = getQcsInfo;\n\nfunction getAllResults(qcsRefId, layerIdx) {\n  const query = `/plates?qcsRefIds=${qcsRefId}\\\n&layerIndices=${layerIdx}\\\n&limit=200\\\n&fields=barcode%2CzPrime%2CwellTypes%2Cwells.rawValues%2Cwells.compoundIds`;\n  return request(query, res => res);\n}\nexports.getAllResults = getAllResults;\n\n\nfunction getPlateStats(allResults) {\n  const plates = allResults.plates;\n  const parsed = plates.map(p => {\n    const lowMean = p.wellTypes.NEUTRAL_CONTROL.mean;\n    const lowStdDev = p.wellTypes.NEUTRAL_CONTROL.sd;\n    const highMean = p.wellTypes.INHIBITOR_CONTROL.mean;\n    const highStdDev = p.wellTypes.INHIBITOR_CONTROL.sd;\n    return {\n      barcode: p.barcode,\n      lowCtrlMean: lowMean,\n      lowCtrlStdDev: lowStdDev,\n      lowCtrlCV: lowStdDev / lowMean * 100,\n      highCtrlMean: highMean,\n      highCtrlStdDev: highStdDev,\n      highCtrlCV: highStdDev / highMean * 100,\n      SignalBackground: lowMean / highMean,\n      zPrime: p.zPrime\n    };\n  });\n  return parsed;\n}\nexports.getPlateStats = getPlateStats;\n\n\nfunction getWellValues(allResults) {\n  const plates = allResults.plates;\n  const results = {};\n  plates.forEach(p => {\n    p.wells.compoundIds.forEach((value, i) => {\n      if (value !== null) {\n        results[value] = p.wells.rawValues[i];\n      }\n    });\n  });\n  return results;\n}\nexports.getWellValues = getWellValues;\n\n\nfunction getFirstPlateValues(qcsRefId, layerIdxs) {\n  const query = `/plates?qcsRefIds=${qcsRefId}\\\n&layerIndices=${layerIdxs}\\\n&q=plateIndex%3A0\\\n&fields=layerIndex%2CzPrime%2CwellTypes%2Cwells.rawValues%2Cwells.compoundIds`;\n  return request(query, res => {\n    const results = {};\n    res.plates.forEach(p => {\n      const idx = p.layerIndex;\n      p.wells.compoundIds.forEach(value => {\n        if (value !== null) {\n          if (!results.hasOwnProperty(value)) {\n            results[value] = {};\n          }\n          results[value][idx] = p.wells.rawValues[idx];\n        }\n      });\n    });\n  });\n}\nexports.getFirstPlateValues = getFirstPlateValues;\n*/\n","\nimport {ScreenerFitting, ScreenerRawValue} from './Screener.js';\n\n\nexport class ScreenerFittingStub extends ScreenerFitting {\n  constructor() {\n    super();\n    this.resourceFile = 'screener_fitting_stub.yaml';\n  }\n\n  fittingStub(q) {\n    if (typeof q.qcsRefId !== 'string') throw `${q.qcsRefId} is not a string`;\n    if (typeof q.layerIndex !== 'number') throw `${q.layerIndex} is not a number`;\n    return [\n      {ID: 'DB00189', drcPlot: 'dummy1', AC50: 2.1e-6, hill: 1.1, source: 'target1_validation'},\n      {ID: 'DB00193', drcPlot: 'dummy2', AC50: 4.2e-6, hill: null, source: 'target1_validation'},\n      {ID: 'DB00203', drcPlot: 'dummy3', AC50: 1.0e-5, hill: 0.9, source: 'target1_validation'},\n      {ID: 'DB00865', drcPlot: 'dummy4', AC50: 8.8e-8, hill: 2.1, source: 'target1_validation'},\n      {ID: 'DB01143', drcPlot: 'dummy5', AC50: 'n.d.', hill: null, source: 'target1_validation'},\n      {ID: 'DB01240', drcPlot: 'dummy6', AC50: null, hill: null, source: 'target1_validation'}\n    ];\n  }\n\n  getRecords(q) {\n    return Promise.resolve({ records: this.fittingStub(q) });\n  }\n\n  getRecordsByCompound(compound) {\n    const rcds = this.fittingStub({qcsRefId: 'QCS-YYYY', layerIndex: 1})\n      .filter(e => e.ID === compound);\n    return Promise.resolve({ records: rcds });\n  }\n\n  qcsInfoStub(ids) {\n    if (!Array.isArray(ids)) throw `${ids} is not a string`;\n    const layers = [\n      {layerIndex: 0, name: 'Activity%'},\n      {layerIndex: 1, name: 'Background%'},\n      {layerIndex: 2, name: 'Correction'}\n    ];\n    return [\n      {qcsRefId: 'QCS-XXX0', name: 'hoge', layers: layers},\n      {qcsRefId: 'QCS-XXX1', name: 'fuga', layers: layers},\n      {qcsRefId: 'QCS-XXX2', name: 'piyo', layers: layers}\n    ];\n  }\n\n  getQcsInfo(qcsRefIds) {\n    return Promise.resolve(this.qcsInfoStub(qcsRefIds));\n  }\n}\n\n\nexport class ScreenerRawValueStub extends ScreenerRawValue {\n  constructor() {\n    super();\n    this.resourceFile = 'screener_rawvalue_stub.yaml';\n  }\n\n  rawValueStub(q) {\n    if (typeof q.qcsRefId !== 'string') throw `${q.qcsRefId} is not a string`;\n    if (typeof q.layerIndex !== 'number') throw `${q.layerIndex} is not a number`;\n    return [\n        {ID: 'DB00189', rawValue: 12.7, source: 'target1_screen'},\n        {ID: 'DB00193', rawValue: 43.6, source: 'target1_screen'},\n        {ID: 'DB00203', rawValue: 102.6, source: 'target1_screen'},\n        {ID: 'DB00865', rawValue: -0.6, source: 'target1_screen'},\n        {ID: 'DB01143', rawValue: 50, source: 'target1_screen'},\n        {ID: 'DB01240', rawValue: null, source: 'target1_screen'}\n    ];\n  }\n\n  getRecords(q) {\n    return Promise.resolve({ records: this.rawValueStub(q) });\n  }\n\n  getRecordsByCompound(compound) {\n    const rcds = this.rawValueStub({qcsRefId: 'QCS-XXXX', layerIndex: 1})\n      .filter(e => e.ID === compound);\n    return Promise.resolve({ records: rcds });\n  }\n}\n","\nimport {dataSourceId} from '../helper/definition.js';\nimport {default as store} from './IDBStore.js';\nimport {LocalServerActivity, LocalServerChemical} from '../fetcher/LocalServer.js';\nimport {ScreenerFitting, ScreenerRawValue} from '../fetcher/Screener.js';\nimport {ScreenerFittingStub, ScreenerRawValueStub} from '../fetcher/ScreenerTestStub.js';\n\n\n// Global config\n\nconst globalConfig = {\n  \"onLine\": true,\n  \"server\": {},\n  \"templates\": {},\n  \"urlQuery\": {}\n};\n\nwindow.location.search.substring(1).split(\"&\")\n  .map(e => e.split('=')).forEach(e => {\n    globalConfig.urlQuery[e[0]] = e[1];\n  });\n\n\nexport function getGlobalConfig(key) {\n  return globalConfig[key];\n}\n\n\nexport function setGlobalConfig(key, value) {\n  globalConfig[key] = value;\n}\n\n\n// API instances\n\nconst API = new Map(Object.entries({\n  chemical: new LocalServerChemical(),\n  activity: new LocalServerActivity(),\n  screenerrawvalue: new ScreenerRawValue(),\n  screenerfitting: new ScreenerFitting(),\n  screenerrawvaluestub: new ScreenerRawValueStub(),\n  screenerfittingstub: new ScreenerFittingStub()\n}));\n\n\nexport function localChemInstance() {\n  return API.get('chemical');\n}\n\n\nexport function getFetcher(domain) {\n  return API.get(domain);\n}\n\n\nexport function fetcherInstances() {\n  return Array.from(API.values());\n}\n\n\nexport function dataFetcherInstances() {\n  const res = [];\n  API.forEach((v, k) => {\n    if (k !== 'chemical') res.push(v);\n  });\n  return res;\n}\n\n\nexport function dataFetcherDomains() {\n  const res = [];\n  API.forEach((v, k) => {\n    if (k !== 'chemical') res.push(k);\n  });\n  return res;\n}\n\n\n// API data resource on local IndexedDB\n\nexport function getResources(domains) {\n  return store.getResources().then(rsrcs => {\n    return rsrcs.filter(e => domains.includes(e.domain));\n  });\n}\n\n\nexport function setResources(rsrcs) {\n  return store.putResources(rsrcs);\n}\n\n\nexport function getResourceColumns(domains) {\n  return getResources(domains).then(rsrcs => {\n    return rsrcs.map(rsrc => {\n      return rsrc.columns.map(col => {\n        col.domain = rsrc.domain;\n        col.key = dataSourceId(rsrc.domain, rsrc.id, col.key);\n        col.entity = rsrc.entity;\n        if (!col.hasOwnProperty('tags')) col.tags = rsrc.tags;\n        return col;\n      });\n    }).extend();\n  });\n}\n\n\nexport function getDataSourceColumns(domain, ids) {\n  return store.getResources([domain]).then(rsrcs => {\n    return ids.map(d => rsrcs.find(e => e.id === d).columns)\n      .extend();\n  });\n}\n\n\n// Datatable on local IndexedDB\n\nexport function getAllTables() {\n  return store.getAllItems();\n}\n\n\nexport function getTablesByFormat(format) {\n  return store.getItemsByFormat(format);\n}\n\n\nexport function getTable(tableId) {\n  return store.getItemById(tableId);\n}\n\n\nexport function getRecords(tableId) {\n  return store.getItemById(tableId)\n    .then(tbl => tbl.records);\n}\n\n\nexport function getCurrentTable() {\n  const q = getGlobalConfig('urlQuery');\n  if (!q.hasOwnProperty('id')) return Promise.resolve();\n  return store.getItemById(q.id);\n}\n\n\nexport function getCurrentRecords() {\n  return getCurrentTable().then(tbl => tbl.records);\n}\n\n\nexport function setColumnsToShow(updates) {\n  return store.updateItem(getGlobalConfig('urlQuery').id, item => {\n    item.columns.forEach((col, i) => {\n      col.visible = updates.visibles.includes(col.key);\n      col.sort = updates.sorts[i];\n      col.digit = updates.digits[i];\n    });\n  });\n}\n\n\nexport function joinColumn(mapping, tableId=globalConfig.urlQuery.id) {\n  const cols = mapping.hasOwnProperty('column') ? mapping.column : mapping.columns;\n  return store.updateItem(tableId, item => {\n    item.records\n      .filter(rcd => mapping.mapping.hasOwnProperty(rcd[mapping.key]))\n      .forEach(rcd => {\n        if (mapping.hasOwnProperty('column')) {\n          rcd[mapping.column.key] = mapping.mapping[rcd[mapping.key]];\n        } else {\n          mapping.columns.forEach((col, i) => {\n            rcd[col.key] = mapping.mapping[rcd[mapping.key]][i];\n          });\n        }\n      });\n    item.columns = item.columns.concat(cols).unique('key');\n    item.lastUpdated = mapping.lastUpdated;\n  });\n}\n\n\nexport function updateTableAttribute(tblID, key, value) {\n  return store.updateItem(tblID, item => {\n    item[key] = value;\n  });\n}\n\n\nexport function insertTable(data) {\n  return store.putItem(data);\n}\n\n\nexport function updateTable(data) {\n  if (data === undefined) return Promise.resolve();  // No update\n  if (data.status === 'Failure') {  // No data found on server\n    return updateTableAttribute(data.id, 'status', 'Failure');\n  }\n  // update\n  return store.updateItem(data.id, item => {\n    const update = {\n      responseDate: data.responseDate,\n      records: data.records,\n      columns: data.columns,\n      recordCount: data.recordCount,\n      searchDoneCount: data.searchDoneCount,\n      execTime: data.execTime,\n      progress: data.progress,\n      status: data.status,\n    };\n    if (data.hasOwnProperty('lastUpdated')) {\n      update.lastUpdated = data.lastUpdated;\n    }\n    Object.assign(item, update);\n  });\n}\n\n\nexport function deleteTable(id) {\n  return store.deleteItem(id);\n}\n\n\nexport function reset() {\n  return store.reset();\n}\n","\nimport {\n  setGlobalConfig, localChemInstance, fetcherInstances, setResources\n} from './store/StoreConnection.js';\n\nconst localServer = localChemInstance();\n\n\nfunction initialize() {\n  if ('serviceWorker' in navigator && !debug) {\n    navigator.serviceWorker\n      .register('sw.js')\n      .then(registration => {\n        console.info(\n          'ServiceWorker registration successful with scope: ',\n          registration.scope\n        );\n      }).catch(err => {\n        console.info('ServiceWorker registration failed: ', err);\n      });\n  } else if (debug) {\n    console.info('Off-line mode is disabled for debugging');\n  } else {\n    console.info('Off-line mode is not supported');\n  }\n  const serverTmpl = localServer.templates().then(res => {\n    setGlobalConfig('templates', res.templates);\n  });\n  const serverConfig = localServer.status().then(res => {\n    setGlobalConfig('server', res);\n  });\n  // TODO: skip loader if there is already resources in the store\n  // 1. collate resource version\n  // 2. if no local resource or server resource is newer, fetch\n  const rsrcFetched = fetcherInstances()\n    .map(api => api.getResources())\n    .extendAsync().then(res => {\n      const indexed = res.map((e, i) => {\n        e.idx = i;\n        return e;\n      });\n      return setResources(indexed);\n    });\n  return Promise.all([serverTmpl, serverConfig, rsrcFetched]);\n}\n\n\nexport function loader() {\n  if (document.location.protocol === \"file:\") {\n    console.info('Off-line mode (local file)');\n    setGlobalConfig('onLine', false);\n    return Promise.resolve();\n  }\n  if ('onLine' in navigator) {\n    if (!navigator.onLine) {\n      console.info('Off-line mode (no internet connection)');\n      setGlobalConfig('onLine', false);\n      return Promise.resolve();\n    }\n  }\n  return fetch(`${localServer.baseURL}favicon.ico`)\n    .then(() => {\n      // HTTP 404\n      setGlobalConfig('onLine', true);\n      return initialize();\n    }).catch(() => {\n      console.info('Off-line mode (server not responding)');\n      setGlobalConfig('onLine', false);\n      return Promise.resolve();\n    });\n}\n","\nimport d3 from 'd3';\nimport {fetchable, abortRequestable} from '../helper/definition.js';\n\n\nexport function renderStatus(tbl, refresh_callback, abort_callback) {\n  d3.select('#loading-circle').style('display', 'none');\n  if (!tbl.hasOwnProperty('status')) tbl.status = 'Completed';\n  d3.select('title').text(tbl.name);\n  d3.select('#title').text(tbl.name);\n  d3.select('#refresh')\n    .text(tbl.status === 'Aborting' ? 'Abort requested' : 'Refresh')\n    .style('display', fetchable(tbl) ? 'inline-block' : 'none');\n  d3.select('#abort')\n    .style('display', abortRequestable(tbl) ? 'inline-block' : 'none');\n  const doneText = {\n    'datatable': 'entries found',\n    'connection': 'connections created'\n  };\n  const dtx = doneText[tbl.format];\n  d3.select('#progress')\n    .text(`(${tbl.status} - ${tbl.recordCount} ${dtx} in ${tbl.execTime} sec.)`);\n  if (tbl.status === 'In progress') {\n    d3.select('#progress').append('div').append('progress')\n      .attr('max', 100)\n      .attr('value', tbl.progress)\n      .text(`${tbl.progress}%`);\n  }\n  d3.select('#refresh').on('click', refresh_callback);\n  d3.select('#abort')\n    .on('click', () => {\n      d3.select('#confirm-message')\n        .text('Are you sure you want to abort this calculation job?');\n      d3.select('#confirm-submit')\n        .classed('btn-primary', false)\n        .classed('btn-warning', true)\n        .on('click', () => {\n          abort_callback();\n        });\n    });\n  console.info('Query');\n  console.info(tbl.query);  // query datails are available on browser console.\n}\n\n\nexport function initializeWithData() {\n  d3.select('#new-data').style('display', 'none');\n  d3.select('#loading-circle').style('display', 'none');\n}\n\n\nexport function initialize() {\n  d3.select('#data-control').style('display', 'none');\n  d3.select('#nodedata').style('display', 'none');\n  d3.select('#refresh').style('display', 'none');\n  d3.select('#abort').style('display', 'none');\n  d3.select('#loading-circle').style('display', 'none');\n  d3.select('#status').selectAll('li').style('display', 'none');\n}\n","\n/** @module dataStructure */\n\n\nexport function columnMappingToTable(mapping) {\n  const keyCol = {\n    key: mapping.key,\n    name: mapping.key,\n    sort: 'text',\n    visible: true\n  };\n  const cols = mapping.hasOwnProperty('column') ? mapping.column : mapping.columns;\n  const tbl = {\n    columns: [keyCol].concat(cols),\n    records: Object.entries(mapping.mapping).map(entry => {\n      const rcd = {};\n      rcd[mapping.key] = entry[0];\n      if (mapping.hasOwnProperty('column')) {\n        rcd[mapping.column.key] = entry[1];\n      } else {\n        const colKeys = mapping.columns.map(col => col.key);\n        entry[1].forEach((val, i) => {\n          rcd[colKeys[i]] = val;\n        });\n      }\n      return rcd;\n    })\n  };\n  return tbl;\n}\n\n\nexport function csvToMapping(csvString) {\n  const lines = csvString.split(/\\n|\\r|\\r\\n/);\n  const header = lines.shift().split(',');\n  const key = header.shift();\n  const now = new Date();\n  const mapping = {\n    created: now.toString(),\n    columns: [],\n    key: key,\n    mapping: {}\n  };\n  const headerIdx = [];\n  header.forEach((h, i) => {\n    if (h === '') return;\n    headerIdx.push(i);\n    mapping.columns.push({key: h, name: h, sort: 'text', visible: true});\n  });\n  lines.forEach(line => {\n    const values = line.split(',');\n    const k = values.shift();\n    mapping.mapping[k] = Array(headerIdx.length);\n    headerIdx.forEach(i => {\n      mapping.mapping[k][i] = values[i];\n    });\n  });\n  return mapping;\n}\n\nexport function singleToMultiMapping(mapping) {\n  const newMapping = {};\n  Object.entries(mapping.mapping).forEach(m => {\n    newMapping[m[0]] = [m[1]];\n  });\n  return {\n    created: mapping.created,\n    columns: [mapping.column],\n    key: mapping.key,\n    mapping: newMapping\n  };\n}\n","\nimport d3 from 'd3';\n\n\n/**\n * Format number\n * @param {object} value - value\n * @param {string} type - si | scientific | rounded | raw\n */\nexport function formatNum(value, type) {\n  const conv = {\n    scientific: \".3e\",\n    si: \".3s\",\n    rounded: \".3r\"\n  };\n  if (type === 'raw') return value;\n  if (value === undefined || value === null || Number.isNaN(value)) return '';\n  return value == parseFloat(value) ? d3.format(conv[type])(value) : value;\n}\n\nexport function partialMatch(query, target) {\n  if (target === undefined || target === null || target === '') return false;\n  return target.toString().toUpperCase()\n    .indexOf(query.toString().toUpperCase()) !== -1;\n}\n\nexport function numericAsc(a, b) {\n  const fa = parseFloat(a);\n  const fb = parseFloat(b);\n  if (isNaN(fa) || isNaN(fb)) {\n    return String(b).localeCompare(String(a));\n  }\n  return fb - fa;\n}\n\n\nexport function numericDesc(a, b) {\n  return numericAsc(b, a);\n}\n\n\nexport function textAsc(a, b) {\n  return String(b).localeCompare(String(a));\n}\n\n\nexport function textDesc(a, b) {\n  return textAsc(b, a);\n}\n","\nimport d3 from 'd3';\nimport {\n  formatNum, numericAsc, textAsc, numericDesc, textDesc\n} from '../helper/formatValue.js';\n\n\nexport function selectOptions(selection, data, key, text) {\n  const options = selection.selectAll('option')\n    .data(data, key);\n  options.exit().remove();\n  options.enter().append('option')\n    .merge(options)\n      .attr('value', key)\n      .text(text);\n}\n\n\nexport function checkboxList(selection, data, name, key, text) {\n  const items = selection.selectAll('li').data(data, key);\n  items.exit().remove();\n  const entered = items.enter().append('li')\n    .attr('class', 'form-check')\n    .append('label');\n  entered.append('input');\n  entered.append('span');\n  const updated = entered.merge(items.select('label'))\n    .attr('class', 'form-check-label');\n  updated.select('input')\n    .attr('type', 'checkbox')\n    .attr('class', 'form-check-input')\n    .attr('name', name)\n    .attr('value', key);\n  updated.select('span')\n    .text(text);\n}\n\n\nexport function createTable(selection, tbl) {\n  // Header\n  if (!selection.select('thead').size()) {\n    selection.append('thead').append('tr');\n  }\n  // Records\n  if (!selection.select('tbody').size()) {\n    selection.append('tbody');\n  }\n  const cols = tbl.columns\n    .filter(e => !e.hasOwnProperty('visible') || e.visible !== false\n  );\n  const header = selection.select('thead tr').selectAll('th')\n    .data(cols, d => d.key);\n  header.exit().remove();\n  header.enter().append('th')\n    .merge(header)\n      .text(d => d.hasOwnProperty('name') ? d.name : d.key);\n}\n\n\nexport function updateTableRecords(selection, rcds, keyFunc) {\n  const header = selection.select('thead tr').selectAll('th')\n    .data();\n  const rowSelection = selection.select('tbody').selectAll('tr')\n    .data(rcds, keyFunc);\n  rowSelection.exit().remove();\n  const rowEntered = rowSelection.enter().append('tr');\n  rowEntered.selectAll('td')\n    .data(d => header.map(e => d[e.key]))\n    .enter().append('td');\n  rowEntered.merge(rowSelection)\n    .selectAll('td')\n    .classed('align-middle', true)\n    .html((d, i) => {\n      if (d === undefined) return '';\n      if (header[i].valueType === 'plot') return '[plot]';\n      if (header[i].valueType === 'image') return '[image]';\n      if (header[i].hasOwnProperty('digit') && header[i].digit !== 'raw') {\n        return formatNum(d, header[i].digit);\n      }\n      return d;\n    });\n}\n\n\nexport function appendTableRows(selection, rcds, keyFunc) {\n  const newRcds = selection.select('tbody').selectAll('tr').data();\n  Array.prototype.push.apply(newRcds, rcds);\n  updateTableRecords(selection, newRcds, keyFunc);\n}\n\n\nexport function addSort(selection) {\n  selection.select('thead tr').selectAll('th')\n    .filter(d => d.sort !== 'none')\n    .append('span').append('a')\n      .attr('id', d => `sort-${d.key}`)\n      .text('^v')\n      .style('display', 'inline-block')\n      .style('width', '30px')\n      .style('text-align', 'center')\n    .on('click', d => {\n      const isAsc = d3.select(`#sort-${d.key}`).text() === 'v';\n      const isNum = !d.hasOwnProperty('sort') || d.sort === 'numeric';\n      const cmp = isAsc\n        ? (isNum ? numericAsc : textAsc)\n        : (isNum ? numericDesc : textDesc);\n      selection.select('tbody').selectAll('tr')\n        .sort((a, b) => cmp(a[d.key], b[d.key]));\n      d3.select(`#sort-${d.key}`)\n        .text(isAsc ? '^' : 'v');\n    });\n}\n\n\nexport function formatNumbers(selection) {\n  // DEPRECATED: no longer used\n  selection.select('thead tr').selectAll('th')\n    .each((col, colIdx) => {\n      if (!col.hasOwnProperty('digit') || col.digit === 'raw') return;\n      selection.select('tbody').selectAll('tr')\n        .selectAll('td')\n          .filter((d, i) => i === colIdx)\n          .text(d => formatNum(d, col.digit));\n    });\n}\n","\nimport d3 from 'd3';\nimport {\n  formValue, formInt, formFloat, formChecked,\n  checkboxValues, selectedOptionValues, textareaLines,\n  firstFile, selectedCheckboxesData, selectedOptionData\n} from '../helper/d3Selection.js';\nimport {\n  csvToMapping, columnMappingToTable, singleToMultiMapping\n} from '../helper/dataStructure.js';\nimport {partialMatch} from '../helper/formatValue.js';\nimport {readFile} from '../helper/file.js';\nimport {getSDFPropList} from '../helper/parser.js';\nimport {plotThumbnail} from '../helper/image.js';\nimport {\n  localChemInstance, getFetcher, dataFetcherDomains, getGlobalConfig,\n  getResourceColumns, getDataSourceColumns, setColumnsToShow\n} from '../store/StoreConnection.js';\nimport {\n  checkboxList, selectOptions, createTable, updateTableRecords\n} from './Component.js';\n\nconst localServer = localChemInstance();\n\n\nfunction mergeDataSourceColumns(data) {\n  return getDataSourceColumns(data.domain, data.dataSource)\n  .then(cols => getFetcher(data.domain).formatResult(cols, data));\n}\n\n\nexport function pickDialog(rsrc, callback) {\n  d3.select('#pick-target')\n    .call(selectOptions, rsrc, d => d.entity, d => d.name)\n    .on('change', function () {\n      const rsrctbl = selectedOptionData(this);\n      d3.select('#pick-queryarea').text(rsrctbl.placeholders.ID);\n    });\n  d3.select('#pick-queryarea').text(rsrc[0].placeholders.ID);  // initial value\n  d3.select('#pick-submit')\n    .on('click', () => {\n      d3.select('#loading-circle').style('display', 'inline');\n      const query = {\n        method: 'chemsql',\n        targets: [formValue('#pick-target')],\n        key: 'ID',\n        values: textareaLines('#pick-queryarea'),\n        operator: 'fm'\n      };\n      return localServer.getRecords(query)\n        .then(mergeDataSourceColumns)\n        .then(callback);\n    });\n}\n\n\nexport function propDialog(rsrc, callback) {\n  d3.select('#prop-targets')\n    .call(checkboxList, rsrc, 'targets', d => d.entity, d => d.name)\n    .on('change', function () {\n      const cols = selectedCheckboxesData('#prop-targets')\n        .map(d => d.columns)\n        .extend().unique('key');\n      d3.select('#prop-key')\n        .call(selectOptions, cols, d => d.key, d => d.name);\n    });\n  d3.select('#prop-submit')\n    .on('click', () => {\n      d3.select('#loading-circle').style('display', 'inline');\n      const selectedColumn = selectedOptionData('#prop-key');\n      const query = {\n        method: selectedColumn.method,\n        targets: checkboxValues('#prop-targets'),\n        key: selectedColumn.key,\n        values: textareaLines('#prop-queryarea'),\n        operator: formValue('#prop-operator')\n      };\n      return localServer.getRecords(query)\n      .then(mergeDataSourceColumns)\n      .then(callback);\n    });\n}\n\n\nexport function structDialog(rsrc, callback) {\n  d3.select('#struct-qsrc')\n    .call(selectOptions, rsrc, d => d.entity, d => d.name);\n  d3.select('#struct-targets')\n    .call(checkboxList, rsrc, 'targets', d => d.entity, d => d.name);\n  d3.select('#struct-method').selectAll('option.rd')\n    .attr('disabled', getGlobalConfig('rdk') === true ? null : 'disabled');\n  d3.select('#struct-method')\n    .on('change', function () {\n      const op = d3.select(this.selectedOptions[0]);\n      d3.select('#struct-thldtype')\n        .attr('disabled', op.classed('thld') ? null : 'disabled')\n        .property('value', op.classed('edge') ? 'edge' : 'sim');\n      d3.select('#struct-thld')\n        .attr('disabled', op.classed('thld') ? null : 'disabled');\n      d3.select('#struct-thldtype option.sim')\n        .attr('disabled', op.classed('sim') ? null : 'disabled');\n      d3.select('#struct-thldtype option.edge')\n        .attr('disabled', op.classed('edge') ? null : 'disabled');\n      d3.select('#struct-options').selectAll('.gls')\n        .attr('disabled', op.classed('gls') ? null : 'disabled');\n      d3.select('#struct-options').selectAll('.fmcs')\n        .attr('disabled', this.value === 'rdfmcs' ? null : 'disabled');\n      d3.select('#struct-thld')\n        .attr('value', formValue('#struct-thldtype') === 'edge' ? 15 : 0.7)\n        .attr('min', formValue('#struct-thldtype') === 'edge' ? 5 : 0)\n        .attr('max', formValue('#struct-thldtype') === 'edge' ? 999 : 1.0)\n        .attr('step', formValue('#struct-thldtype') === 'edge' ? 1 : 0.01);\n    });\n  d3.select('#struct-thldtype')\n    .on('change', function () {\n      d3.select('#struct-thld')\n        .attr('value', this.value === 'edge' ? 15 : 0.7)\n        .attr('min', this.value === 'edge' ? 5 : 0)\n        .attr('max', this.value === 'edge' ? 999 : 1.0)\n        .attr('step', this.value === 'edge' ? 1 : 0.01);\n    });\n  d3.select('#struct-format')\n    .on('change', function () {\n      d3.select('#struct-qsrc')\n        .attr('disabled', this.value === 'dbid' ? null : 'disabled');\n    });\n  d3.select('#struct-preview')\n    .on('click', () => {\n      const fmt = formValue('#struct-format');\n      const query = {\n        format: fmt,\n        querySource: fmt === 'dbid' ? formValue('#struct-qsrc') : null,\n        value: fmt === 'molfile'\n          ? formValue('#struct-queryarea') : textareaLines('#struct-queryarea')[0],\n      };\n      return localServer.strprev(query)\n        .then(res => d3.select('#struct-image').html(res));\n    });\n  d3.select('#struct-submit')\n    .on('click', () => {\n      d3.select('#loading-circle').style('display', 'inline');\n      const mthdop = d3.select(d3.select('#struct-method').node().selectedOptions[0]);\n      const fmt = formValue('#struct-format');\n      const query = {\n        method: formValue('#struct-method'),\n        targets: checkboxValues('#struct-targets'),\n        format: fmt,\n        querySource: fmt === 'dbid' ? formValue('#struct-qsrc') : null,\n        value: fmt === 'molfile'\n          ? formValue('#struct-queryarea') : textareaLines('#struct-queryarea')[0],\n        thresholdType: formValue('#struct-thldtype'),\n        threshold: formFloat('#struct-thld'),\n        ignoreHs: formChecked('#struct-ignoreh'),\n        diameter: mthdop.classed('gls') ? formInt('#struct-diam') : null,\n        maxTreeSize: mthdop.classed('gls') ? formInt('#struct-tree') : null,\n        molSizeCutoff: mthdop.classed('gls') ? formInt('#struct-skip') : null,\n        timeout: mthdop.classed('rd') ? formInt('#struct-timeout') : null\n      };\n      return localServer.getRecords(query)\n        .then(mergeDataSourceColumns)\n        .then(callback);\n    });\n}\n\n\nexport function sdfDialog(callback) {\n  d3.select('#sdf-file')\n    .on('change', () => {\n      const reader = new FileReader();\n      const file = document.getElementById('sdf-file').files[0];\n      reader.onload = (e) => {\n        d3.select('#sdf-cols')\n          .call(checkboxList, getSDFPropList(e.target.result),\n                'columns', d => d, d => d\n          );\n      };\n      // Scan only first 100mb of the file due to memory limit.\n      reader.readAsText(file.slice(0, 100 * 1024 * 1024));\n    });\n  d3.select('#sdf-selectall')\n    .on('change', () => {\n      d3.select('#sdf-cols').selectAll('input')\n        .property('checked', formChecked('#sdf-selectall'));\n    });\n  d3.select('#sdf-submit')\n    .on('click', () => {\n      d3.select('#loading-circle').style('display', 'inline');\n      const query = {\n        contents: firstFile('#sdf-file'),\n        query: JSON.stringify({\n          columns: checkboxValues('#sdf-cols'),\n          implh: formChecked('#sdf-implh'),\n          recalc: formChecked('#sdf-recalc')\n        })\n      };\n      return localServer.importSDF(query).then(callback);\n    });\n}\n\nexport function columnDialog(tbl, callback) {\n  // TODO: need refactoring\n  const coltbl = {\n    columns: [\n      {key: 'name', sort: 'text', visible: true},\n      {key: 'visible', sort: 'text', visible: true},\n      {key: 'sort', sort: 'text', visible: true},\n      {key: 'digit', sort: 'numeric', visible: true}\n    ]\n  };\n  d3.select('#column-table thead').remove();\n  d3.select('#column-table tbody').remove();\n  d3.select('#column-table').call(createTable, coltbl)\n    .select('tbody').selectAll('tr')\n    .data(tbl.columns).enter().append('tr')\n    .each(function (row) {\n      d3.select(this).selectAll('td')\n        .data(d => coltbl.columns.map(e => d[e.key])).enter().append('td')\n        .each(function (cell, i) {\n          if (i === 0) {\n            d3.select(this).text(d => d);\n          } else if (i === 1) {\n            d3.select(this).classed('column-vis-select', true)\n              .append('input')\n                .attr('type', 'checkbox')\n                .attr('value', row.key)\n                .property('checked', d => d);\n          } else if (i === 2) {\n            d3.select(this).classed('column-sort-select', true)\n              .append('select')\n              .call(selectOptions,\n                    cell === 'none' ? ['none'] : ['numeric', 'text'], null, d => d)\n              .each(function (value) {\n                d3.select(this).selectAll('option')\n                  .property('selected', d => d === value);\n              });\n          } else if (i === 3) {\n            d3.select(this).classed('column-digit-select', true)\n              .append('select')\n              .call(selectOptions, ['raw', 'rounded', 'scientific', 'si'], null, d => d)\n              .each(function (value) {\n                d3.select(this).selectAll('option')\n                  .property('selected', d => d === value);\n              });\n            if (row.sort !== 'numeric') {\n              d3.select(this).select('select').attr('disabled', 'disabled');\n            }\n          }\n        });\n    });\n  d3.select('#column-table tbody').selectAll('tr')\n    .on('change', function () {\n        const sort = d3.select(this).select('.column-sort-select select').node().value;\n        d3.select(this).select('.column-digit-select select')\n          .attr('disabled', sort === 'numeric' ? null : 'disabled');\n    });\n  d3.select('#column-submit')\n    .on('click', () => {\n      const query = {\n        visibles: checkboxValues('.column-vis-select'),\n        sorts: selectedOptionValues('.column-sort-select'),\n        digits: selectedOptionValues('.column-digit-select')\n      };\n      return setColumnsToShow(query).then(callback);\n    });\n}\n\n\nexport function joinDialog(tbl, rcds, callback) {\n  const domains = dataFetcherDomains();\n  // Prevent implicit submission\n  document.getElementById('join-search')\n    .addEventListener('keypress', event => {\n      if (event.keyCode === 13) event.preventDefault();\n    });\n  return getResourceColumns(domains).then(rsrcs => {\n    const shownCols = tbl.columns.map(e => e.key);\n    d3.select('#join-keys')\n      .call(checkboxList, rsrcs.unique('key'), 'keys',\n            d => d.key, d => d.name)\n      .selectAll('li')\n      .each(function(d) { // disable already shown columns\n        const ex = shownCols.includes(d.key);\n        d3.select(this).selectAll('label').select('input')\n          .property('checked', ex)\n          .attr('disabled', ex ? 'disabled' : null);\n      });\n    d3.select('#join-search').on('keyup', function () {\n      const match = d => partialMatch(formValue(this), d.name);\n      d3.select('#join-keys').selectAll('li')\n        .style('visibility', d => match(d) ? null : 'hidden')\n        .style('position', d => match(d) ? null : 'absolute');\n    });\n    d3.select('#join-submit').on('click', () => {\n      d3.select('#loading-circle').style('display', 'inline');\n      const selectedCols = checkboxValues('#join-keys');\n      const mpgs = rsrcs\n        .filter(col => !shownCols.includes(col.key))\n        .filter(col => selectedCols.includes(col.key))\n        .map(col => {\n          const ids = rcds.map(row => row.ID);\n          const api = getFetcher(col.domain);\n          return api.getMapping(ids, col);\n        });\n      return Promise.all(mpgs).then(res => {\n        // callback(res.filter(e => Object.keys(e.mapping).length !== 0));\n        callback(res);\n      });\n    });\n  });\n}\n\n\nexport function importColDialog(tbl, callback) {\n  d3.select('#importcol-file')\n    .on('change', () => {\n      const file = document.getElementById('importcol-file').files[0];\n      const isCsv = file.name.split('.').pop() === 'csv';\n      readFile(file).then(res => {\n        const mapping = isCsv ? csvToMapping(res) : JSON.parse(res);\n        const tbl = columnMappingToTable(mapping);\n        d3.select('#importcol-preview').call(createTable, tbl)\n          .call(updateTableRecords,\n                tbl.records.slice(0, 5), d => d[tbl.columns[0].key]);\n        // bind mapping\n        d3.select('#importcol-preview').datum(mapping);\n      });\n    });\n  d3.select('#importcol-submit')\n    .on('click', () => {\n      let mapping = d3.select('#importcol-preview').datum();\n      d3.select('#importcol-preview').datum(null);  // unbind mapping\n      // Generate thumbnails\n      const plotCols = [];\n      if (mapping.hasOwnProperty('column')) {\n        mapping = singleToMultiMapping(mapping);\n      }\n      mapping.columns.forEach((e, i) => {\n        if (e.valueType === 'plot') {\n          mapping.columns[i].valueType = 'image';\n          plotCols.push(i);\n        }\n      });\n      if (plotCols.length > 0) {\n        const ps = [];\n        Object.entries(mapping.mapping).forEach(m => {\n          plotCols.forEach(e => {\n            const p = plotThumbnail(m[1][e])\n              .then(img => {\n                mapping.mapping[m[0]][e] = img;\n              });\n            ps.push(p);\n          });\n        });\n        Promise.all(ps).then(() => callback([mapping]));\n      } else {\n        callback([mapping]);\n      }\n    });\n}\n\n\nexport function graphDialog(tbl, rcds, callback) {\n  d3.select('#graph-measure').selectAll('option.rd')\n    .attr('disabled', getGlobalConfig('rdk') === true ? null : 'disabled');\n  d3.select('#graph-measure')\n    .on('change', function () {\n      d3.select('#graph-options').selectAll('.gls')\n        .attr('disabled', this.value === 'gls' ? null : 'disabled');\n      d3.select('#graph-options').selectAll('.fmcs')\n        .attr('disabled', this.value === 'rdfmcs' ? null : 'disabled');\n    });\n  d3.select('#graph-submit')\n    .on('click', () => {\n      d3.select('#loading-circle').style('display', 'inline');\n      const mthdop = d3.select(d3.select('#graph-measure').node().selectedOptions[0]);\n      const query = {\n        measure: formValue('#graph-measure'),\n        indices: [],\n        molecules: [],\n        nodeTableId: tbl.id,\n        threshold: formFloat('#graph-thld'),\n        ignoreHs: formChecked('#graph-ignoreh'),\n        diameter: mthdop.node().value === 'gls' ? formInt('#graph-diam') : null,\n        maxTreeSize: mthdop.node().value === 'gls' ? formInt('#graph-tree') : null,\n        molSizeCutoff: mthdop.node().value === 'gls' ? formInt('#graph-skip') : null,\n        timeout: mthdop.classed('rd') ? formInt('#graph-timeout') : null\n      };\n      rcds.forEach(e => {\n        query.molecules.push(e._mol);\n        query.indices.push(e._index);\n      });\n      return localServer.getRecords(query).then(callback);\n    });\n}\n\n\nexport function graphConfigDialog(edges, callback) {\n  d3.select('#graphconfig-thld')\n    .attr('value', edges.networkThreshold)\n    .attr('max', 1.0)\n    .attr('min', edges.query.threshold);\n  d3.select('#graphconfig-submit')\n    .on('click', () => {\n      const newThld = formFloat('#graphconfig-thld');\n      if (newThld < edges.query.threshold) return;  // TODO: fool proof\n      callback(newThld);\n    });\n}\n\n\nexport function communityDialog(callback) {\n  d3.select('#community-name').attr('value', 'comm_');\n  d3.select('#community-submit')\n    .on('click', () => {\n      const query = {\n        name: formValue('#community-name'),\n        nulliso: formChecked('#community-nulliso')\n      };\n      callback(query);\n    });\n}\n","\nimport d3 from 'd3';\n\nconst fieldWidth = 1200;\nconst fieldHeight = 1200;\n\nconst simulation = d3.forceSimulation()\n  .force('link',\n    d3.forceLink().id(d => d._index)\n      .distance(60)\n      .strength(1))\n  .force('charge',\n    d3.forceManyBody()\n      .strength(-600)\n      .distanceMin(15)\n      .distanceMax(720))\n  .force('collide',\n    d3.forceCollide()\n      .radius(90))\n  .force('center',\n    d3.forceCenter(fieldWidth / 2, fieldHeight / 2))\n  .force('x',\n    d3.forceX()\n      .strength(0.002))\n  .force('y',\n    d3.forceY()\n      .strength(0.002))\n  .stop();\n\n\nfunction setForce(nodes, edges, tick, end) {\n  simulation.nodes(nodes)\n    .force('link').links(edges);\n  simulation.on('tick', tick)\n    .on('end', end);\n}\n\n\nfunction tick() {\n  d3.select('#graph-contents').selectAll('.node')\n    .attr('transform', d => `translate(${d.x}, ${d.y})`);\n  const alpha = simulation.alpha();\n  const isStopped = alpha <= simulation.alphaMin();\n  d3.select('#temperature')\n    .classed('progress-success', isStopped)\n    .classed('progress-warning', !isStopped)\n    .attr('value', isStopped ? 1 : 1 - alpha)\n    .text(isStopped ? 1 : 1 - alpha);\n}\n\n\nfunction end() {\n  d3.select('#graph-contents').selectAll('.link')\n    .attr('transform', d => `translate(${d.source.x}, ${d.source.y})`)\n    .attr('visibility', 'visible');\n  d3.select('#graph-contents').selectAll('.edge-line')\n    .attr('x1', 0)\n    .attr('y1', 0)\n    .attr('x2', d => d.target.x - d.source.x)\n    .attr('y2', d => d.target.y - d.source.y);\n  d3.select('#graph-contents').selectAll('.edge-label')\n    .attr('x', d => (d.target.x - d.source.x) / 2)\n    .attr('y', d => (d.target.y - d.source.y) / 2);\n}\n\n\nexport default {\n  fieldWidth, fieldHeight, simulation, setForce, tick, end\n};\n","\nimport d3 from 'd3';\nimport {\n  colorPresets, sizePresets, edgeWidthPresets,\n  colorPalette, scaleTypes, sizeScaleTypes, scaleFunction\n} from '../helper/d3Scale.js';\nimport {formValue, formChecked, selectedOptionData} from '../helper/d3Selection.js';\nimport {formatNum} from '../helper/formatValue.js';\nimport {selectOptions} from '../component/Component.js';\n\n\n\n// Get data\n\nfunction colorControlInput(id) {\n  const data = {\n    id: id,\n    column: selectedOptionData(`#${id}-col`)\n  };\n  const preset = selectedOptionData(`#${id}-preset`);\n  if (preset.scale.scale === 'ordinal') {\n    data.scale = preset.scale;\n    return data;\n  }\n  data.scale = {\n    scale: formValue(`#${id}-scaletype`),\n    domain: [\n      formValue(`#${id}-domain-from`),\n      formValue(`#${id}-domain-to`)\n    ],\n    unknown: '#696969'\n  };\n  const range = [formValue(`#${id}-range-from`)];\n  if (formChecked(`#${id}-range-enable-mid`)) {\n    range.push(formValue(`#${id}-range-mid`));\n  }\n  range.push(formValue(`#${id}-range-to`));\n  data.scale.range = range;\n  return data;\n}\n\n\nfunction labelControlInput() {\n  const data = colorControlInput('label');\n  data.text = formValue('#label-text');\n  data.size = formValue('#label-size');\n  data.visible = formChecked('#label-visible');\n  return data;\n}\n\n\nfunction sizeControlInput(id) {\n  return {\n    id: id,\n    scale: {\n      scale: formValue(`#${id}-scaletype`),\n      domain: [\n        formValue(`#${id}-domain-from`),\n        formValue(`#${id}-domain-to`)\n      ],\n      range: [\n        formValue(`#${id}-range-from`),\n        formValue(`#${id}-range-to`)\n      ],\n      unknown: 10\n    }\n  };\n}\n\n\nfunction nodeSizeControlInput() {\n  const data = sizeControlInput('size');\n  data.column = selectedOptionData('#size-col');\n  return data;\n}\n\n\nfunction nodeContentInput() {\n  return {\n    structure: {\n      visible: formChecked('#show-struct')\n    }\n  };\n}\n\n\nfunction edgeControlInput() {\n  const data = sizeControlInput('edge');\n  data.visible = formChecked('#edge-visible');\n  data.label = {\n    size: formValue('#edge-label-size'),\n    visible: formChecked('#edge-label-visible')\n  };\n  return data;\n}\n\n\n// Update DOM attributes\n\nfunction updateNodeColor(data) {\n  d3.selectAll('.node').select('.node-symbol')\n    .style('fill', d => scaleFunction(data.scale)(d[data.column.key]));\n}\n\n\nfunction updateNodeSize(data) {\n  d3.selectAll('.node').select('.node-symbol')\n    .attr('r', d => scaleFunction(data.scale)(d[data.column.key]));\n}\n\n\nfunction updateNodeLabelVisibility(visible) {\n  d3.selectAll('.node').select('.node-label')\n    .attr('visibility', visible ? 'inherit' : 'hidden');\n}\n\n\nfunction updateNodeLabel(data) {\n  d3.selectAll('.node').select('.node-label')\n    .text(d => {\n      if (!d.hasOwnProperty(data.text)) return '';\n      if (!data.column.hasOwnProperty('digit') || data.column.digit === 'raw') return d[data.text];\n      return formatNum(d[data.text], data.column.digit);\n    })\n    .attr('font-size', data.size)\n    .attr('visibility', data.visible ? 'inherit' : 'hidden')\n    .style('fill', d => scaleFunction(data.scale)(d[data.column.key]));\n}\n\n\nfunction updateNodeStructure(data) {\n  d3.selectAll('.node').select('.node-struct')\n    .attr('visibility', data.structure.visible ? 'inherit' : 'hidden')\n    .each((d, i, nds) => {\n      const w = d3.select(nds[i]).select('svg').attr('width');\n      const h = d3.select(nds[i]).select('svg').attr('height');\n      d3.select(nds[i]).attr('transform', `translate(${-w / 2},${-h / 2})`);\n    });\n}\n\n\nfunction updateNodeImage(data) {\n  updateNodeSize(data.nodeSize);\n  updateNodeColor(data.nodeColor);\n  updateNodeLabel(data.nodeLabel);\n  updateNodeStructure(data.nodeContent);\n}\n\n\nfunction updateEdgeVisibility(visible) {\n  d3.selectAll('.link').select('.edge-line')\n    .attr('visibility', visible ? 'inherit' : 'hidden');\n}\n\n\nfunction updateEdgeLabelVisibility(visible) {\n  d3.selectAll('.link').select('.edge-label')\n    .attr('visibility', visible ? 'inherit' : 'hidden');\n}\n\n\nfunction updateEdge(data) {\n  d3.selectAll('.link').select('.edge-line')\n    .style('stroke-width', d => scaleFunction(data.scale)(d.weight));\n  d3.selectAll('.link').select('.edge-label')\n    .attr('font-size', data.label.size);\n  updateEdgeVisibility(data.visible);\n  updateEdgeLabelVisibility(data.label.visible);\n}\n\n\nfunction updateRange(range, id) {\n  if (range.length === 2) {\n    d3.select(`#${id}-range-from`).property('value', range[0]);\n    d3.select(`#${id}-range-enable-mid`).attr('checked', null);\n    d3.select(`#${id}-range-mid`).attr('disabled','disabled');\n    d3.select(`#${id}-range-to`).property('value', range[1]);\n    d3.selectAll(`#${id}-range input`).attr('disabled', null);\n  } else if (range.length === 3) {\n    d3.select(`#${id}-range-from`).property('value', range[0]);\n    d3.select(`#${id}-range-enable-mid`).attr('checked', 'checked');\n    d3.select(`#${id}-range-mid`).property('value', range[1]);\n    d3.select(`#${id}-range-to`).property('value', range[2]);\n    d3.selectAll(`#${id}-range input`).attr('disabled', null);\n  } else {\n    d3.selectAll(`#${id}-range input`).attr('disabled', 'disabled');\n  }\n}\n\n\nfunction updateScale(scale, id) {\n  d3.select(`#${id}-scaletype`).property('value', scale.scale);\n  const hasDomain = scale.hasOwnProperty('domain');\n  d3.selectAll(`#${id}-domain input`)\n    .attr('disabled', hasDomain ? null : 'disabled');\n  if (hasDomain) {\n    d3.select(`#${id}-domain-from`).property('value', scale.domain[0]);\n    d3.select(`#${id}-domain-to`).property('value', scale.domain[1]);\n  }\n  updateRange(scale.range, id);\n}\n\n\nfunction updateControl(data) {\n  const id = data.id;\n  d3.select(`#${id}-visible`).attr('checked', data.visible ? 'checked' : null);\n  d3.select(`#${id}-text`).property('value', data.text);\n  d3.select(`#${id}-size`).property('value', data.size);\n  if (data.hasOwnProperty('column')) {\n    d3.select(`#${id}-col`).property('value', data.column.key);\n  }\n  if (data.hasOwnProperty('label')) {\n    d3.select(`#${id}-label-visible`)\n      .attr('checked', data.label.visible ? 'checked' : null);\n    d3.select(`#${id}-label-size`).property('value', data.label.size);\n  }\n  updateScale(data.scale, data.id);\n}\n\n\n\n// Generate controlBox elements\n\nfunction mainControlBox() {\n  d3.select('#show-struct')\n    .on('change', function () {\n      const data = nodeContentInput();\n      d3.select('#main-control').datum(data);\n      updateNodeStructure(data);\n    })\n    .dispatch('change');\n}\n\n\nfunction colorControlBox(columns, id) {\n  d3.select(`#${id}-col`)\n    .call(selectOptions, columns, d => d.key, d => d.name);\n  d3.select(`#${id}-preset`)\n    .call(selectOptions, colorPresets, d => d.name, d => d.name)\n    .on('change', function() {\n      updateScale(selectedOptionData(this).scale, id);\n      d3.select(`.${id}-update`).dispatch('change');\n    });\n  d3.select(`#${id}-palette`)\n    .call(selectOptions, colorPalette, d => d.name, d => d.name)\n    .on('change', function() {\n      updateRange(selectedOptionData(this).range, id);\n      d3.select(`.${id}-update`).dispatch('change');\n    });\n  d3.select(`#${id}-scaletype`)\n    .call(selectOptions, scaleTypes, d => d.name, d => d.name);\n}\n\n\nfunction nodeColorControlBox(columns) {\n  const textCols = columns.filter(e => e.sort !== 'none');\n  colorControlBox(textCols, 'color');\n  d3.selectAll('.color-update')\n    .on('change', () => {\n      const data = colorControlInput('color');\n      d3.select('#color-control').datum(data);\n      updateControl(data);\n      updateNodeColor(data);\n    })\n    .dispatch('change');\n}\n\n\nfunction nodeLabelControlBox(columns) {\n  const textCols = columns.filter(e => e.sort !== 'none');\n  d3.select('#label-text')\n    .call(selectOptions, textCols, d => d.key, d => d.name);\n  colorControlBox(textCols, 'label');\n  d3.select('#label-visible')\n    .on('change', function() {\n      updateNodeLabelVisibility(formChecked(this), 'label');\n      d3.select(`.label-update`).dispatch('change');\n    });\n  d3.selectAll('.label-update')\n    .on('change', () => {\n      const data = labelControlInput();\n      d3.select('#label-control').datum(data);\n      updateControl(data);\n      updateNodeLabel(data);\n    })\n    .dispatch('change');\n}\n\n\nfunction sizeControlBox(presets, id) {\n  d3.select(`#${id}-preset`)\n    .call(selectOptions, presets, d => d.name, d => d.name)\n    .on('change', function() {\n      updateScale(selectedOptionData(this).scale, id);\n      d3.select(`.${id}-update`).dispatch('change');\n    });\n  d3.select(`#${id}-scaletype`)\n    .call(selectOptions, sizeScaleTypes, d => d.name, d => d.name);\n}\n\n\nfunction nodeSizeControlBox(columns) {\n  const numCols = columns.filter(e => e.sort === 'numeric');\n  d3.select(`#size-col`)\n    .call(selectOptions, numCols, d => d.key, d => d.name);\n  sizeControlBox(sizePresets, 'size');\n  d3.selectAll('.size-update')\n    .on('change', () => {\n      const data = nodeSizeControlInput('size');\n      d3.select('#size-control').datum(data);\n      updateControl(data);\n      updateNodeSize(data);\n    })\n    .dispatch('change');\n}\n\n\nfunction edgeControlBox() {\n  sizeControlBox(edgeWidthPresets, 'edge');\n  d3.select('#edge-visible')\n    .on('change', function() {\n      updateEdgeVisibility(formChecked(this));\n      updateEdgeLabelVisibility(formChecked(this));\n      d3.select(`.edge-update`).dispatch('change');\n    });\n  d3.select('#edge-label-visible')\n    .on('change', function() {\n      updateEdgeLabelVisibility(formChecked(this));\n      d3.select(`.edge-update`).dispatch('change');\n    });\n  d3.selectAll('.edge-update')\n    .on('change', () => {\n      const data = edgeControlInput('edge');\n      d3.select('#edge-control').datum(data);\n      updateControl(data);\n      updateEdge(data);\n    })\n    .dispatch('change');\n}\n\n\nexport default {\n  updateNodeStructure, updateNodeImage, updateControl,\n  mainControlBox, nodeColorControlBox, nodeLabelControlBox, nodeSizeControlBox, edgeControlBox\n};\n","\nfunction graphNodes(selection, data) {\n  const nodes = selection.selectAll('.node')\n    .data(data, d => d.key);\n  nodes.exit().remove();\n  const entered = nodes.enter().append('g')\n    .attr('class', 'node');\n  entered.append('circle')\n    .attr('class', 'node-symbol');\n  entered.append('g')\n    .attr('class', 'node-struct');\n  entered.append('text')\n    .attr('class', 'node-label');\n  const updated = entered.merge(nodes);\n  updated.select('.node-symbol')\n    .attr('r', 20)\n    .style('fill', '#6c6');\n  updated.select('.node-struct')\n    .attr('visibility', 'hidden')\n    .html(d => d._structure);\n  updated.select('.node-label')\n    .attr('visibility', 'hidden')\n    .attr('x', 0)\n    .attr('y', 20 + 10)\n    .attr('font-size', 16)\n    .attr('text-anchor', 'middle');\n}\n\n\nfunction graphEdges(selection, data) {\n  const edges = selection.selectAll('.link')\n    .data(data, d => `${d.source}_${d.target}`);\n  edges.exit().remove();\n  const entered = edges.enter().append('g')\n    .attr('class', 'link');\n  entered.append('line')\n    .attr('class', 'edge-line');\n  entered.append('text')\n    .attr('class', 'edge-label');\n  const updated = entered.merge(edges);\n  updated.select('.edge-line')\n    .style('stroke', '#999')\n    .style('stroke-opacity', 0.6);\n  updated.select('.edge-label')\n    .attr('font-size', 16)\n    .attr('text-anchor', 'middle')\n    .attr('visibility', 'hidden')\n    .text(d => d.weight);\n}\n\n\nexport default {\n  graphNodes, graphEdges\n};\n","\nimport d3 from 'd3';\n\nimport {default as force} from './GraphForce.js';\n\nconst zoom = d3.zoom()\n  .on('zoom', () => {\n    d3.select('#graph-contents').attr('transform', d3.event.transform);\n  });\n\nconst dragWithForce = d3.drag()\n  .on('start', () => {\n    d3.select('#graph-contents').selectAll('.link')\n      .attr('visibility', 'hidden');\n    if (!d3.event.active) force.simulation.alphaTarget(0.1).restart();\n  })\n  .on('drag', d => {\n    d.fx = d3.event.x;\n    d.fy = d3.event.y;\n  })\n  .on('end', d => {\n    if (!d3.event.active) force.simulation.alphaTarget(0);\n    d.fx = null;\n    d.fy = null;\n  });\n\nconst dragNoForce = d3.drag()\n  .on('drag', function (d) {\n    d3.select(this)\n      .attr('transform', () => `translate(${d3.event.x}, ${d3.event.y})`);\n    d.x = d3.event.x;\n    d.y = d3.event.y;\n    const connected = d3.select('#graph-contents').selectAll('.link')\n      .filter(d => [d.source.index, d.target.index].includes(this.__data__.index));\n    connected.attr('transform', d => `translate(${d.source.x}, ${d.source.y})`)\n      .attr('visibility', 'visible');\n    connected.select('.edge-line')\n      .attr('x1', 0)\n      .attr('y1', 0)\n      .attr('x2', d => d.target.x - d.source.x)\n      .attr('y2', d => d.target.y - d.source.y);\n    connected.select('.edge-label')\n      .attr('x', d => (d.target.x - d.source.x) / 2)\n      .attr('y', d => (d.target.y - d.source.y) / 2);\n  })\n  .on('end', () => {\n    force.end();\n  });\n\n\nfunction stickNodes() {\n  force.simulation.alpha(0).stop();\n  d3.selectAll('.node').each(d => {\n    d.fx = d.x;\n    d.fy = d.y;\n  });\n  force.tick();\n  force.end();\n  d3.select('#stick-nodes').property('checked', true);\n  d3.select('#graph-contents').selectAll('.link')\n    .attr('visibility', 'visible');\n  d3.select('#graph-contents').selectAll('.node')\n    .call(dragNoForce);\n}\n\n\nfunction unstickNodes() {\n  d3.selectAll('.node').each(d => {\n    d.fx = null;\n    d.fy = null;\n  });\n  d3.select('#stick-nodes').property('checked', false);\n  d3.select('#graph-contents').selectAll('.link')\n    .attr('visibility', 'hidden');\n  d3.select('#graph-contents').selectAll('.node')\n    .call(dragWithForce);\n}\n\n\nfunction relax() {\n  unstickNodes();\n  force.simulation.alpha(0.1).restart();\n}\n\n\nfunction restart() {\n  unstickNodes();\n  force.simulation.alpha(1).restart();\n}\n\n\nfunction fitToScreen() {\n  d3.select('#graph-field').call(zoom.transform, d3.zoomIdentity);\n  // TODO\n  /*\n  const p = 0.9;  // padding factor\n  const x = extent(selectAll('.node').data(), d => d.x);\n  const y = extent(selectAll('.node').data(), d => d.y);\n  const w = x[1] - x[0];\n  const h = y[1] - y[0];\n  const vb = select('#graph-field').attr('viewBox').split(' ');\n  const xScaleF = vb[2] / w * p;\n  const yScaleF = vb[3] / h * p;\n  const scaleF = Math.max(xScaleF, yScaleF);\n  const center = [(w * (1 - p) / 2 - x[0]) * xScaleF,\n                  (h * (1 - p) / 2 - y[0]) * yScaleF];\n  // Reset zoom point\n  zoom.scale(scaleF);\n  zoom.translate(center);\n  updateViewportTransform(center, scaleF);\n  */\n}\n\n\nexport default {\n  zoom, dragWithForce, dragNoForce,\n  stickNodes, unstickNodes,\n  relax, restart, fitToScreen\n};\n","\nimport jLouvain from 'jLouvain';\n\n\nexport function communityDetection(nodes, edges, option) {\n  // TODO: partition resolution setting\n  // TODO: Error at edges.length 0\n  const community = jLouvain().nodes(nodes).edges(edges)();\n  // assign null to singletons\n  if (option.nulliso) {\n    const clusters = {};\n    Object.entries(community).forEach(e => {\n      if (!clusters.hasOwnProperty(e[1])) {\n        clusters[e[1]] = [];\n      }\n      clusters[e[1]].push(e[0]);\n    });\n    Object.entries(clusters).forEach(e => {\n      if (e[1].length === 1) {\n        community[e[1][0]] = null;\n      }\n    });\n  }\n  return community;\n}\n\n\nexport default {\n  communityDetection\n};\n","\nimport d3 from 'd3';\n\nimport {formChecked, formValue} from './helper/d3Selection.js';\nimport {colorPresets} from './helper/d3Scale.js';\nimport {fetchable} from './helper/definition.js';\nimport {loadJSON, fetchJSON, downloadJSON} from './helper/file.js';\nimport {loader} from './Loader.js';\nimport {\n  getGlobalConfig, localChemInstance, getTable, insertTable, updateTable,\n  joinColumn, getCurrentTable, updateTableAttribute\n} from './store/StoreConnection.js';\nimport {renderStatus, initialize, initializeWithData} from './component/Header.js';\nimport {graphConfigDialog, communityDialog} from './component/Dialog.js';\n\nimport {default as force} from './graph/GraphForce.js';\nimport {default as control} from './graph/GraphControlBox.js';\nimport {default as component} from './graph/GraphComponent.js';\nimport {default as interaction} from './graph/GraphInteraction.js';\nimport {default as community} from './graph/communityDetection.js';\n\n\nconst localServer = localChemInstance();\n\n\nfunction takeSnapshot() {\n  return {\n    nodePositions: d3.selectAll('.node').data().map(d => ({x: d.x, y: d.y})),\n    fieldTransform: d3.zoomTransform(d3.select('#graph-field').node()),\n    nodeContent: d3.select('#main-control').datum(),\n    nodeColor: d3.select('#color-control').datum(),\n    nodeSize: d3.select('#size-control').datum(),\n    nodeLabel: d3.select('#label-control').datum(),\n    edge: d3.select('#edge-control').datum()\n  };\n}\n\n\nfunction saveSnapshot() {\n  const currentId = getGlobalConfig('urlQuery').id;\n  return updateTableAttribute(currentId, 'snapshot', takeSnapshot())\n    .then(() => console.info('Snapshot saved'));\n}\n\n\nfunction resume(snapshot) {\n  if (snapshot.hasOwnProperty('nodeContent')) {\n    d3.select('#main-control').datum(snapshot.nodeContent);\n    d3.select('#show-struct')\n      .property('checked',\n                snapshot.nodeContent.structure.visible ? true : false);\n  }\n  if (snapshot.hasOwnProperty('nodeColor')) {\n    d3.select('#color-control').datum(snapshot.nodeColor);\n    control.updateControl(snapshot.nodeColor);\n  }\n  if (snapshot.hasOwnProperty('nodeSize')) {\n    d3.select('#size-control').datum(snapshot.nodeSize);\n    control.updateControl(snapshot.nodeSize);\n  }\n  if (snapshot.hasOwnProperty('nodeLabel')) {\n    d3.select('#label-control').datum(snapshot.nodeLabel);\n    control.updateControl(snapshot.nodeLabel);\n  }\n  if (snapshot.hasOwnProperty('edge')) {\n    d3.select('#edge-control').datum(snapshot.edge);\n    control.updateControl(snapshot.edge);\n  }\n  if (snapshot.hasOwnProperty('fieldTransform')) {\n    const tf = snapshot.fieldTransform;\n    const transform = d3.zoomIdentity.translate(tf.x, tf.y).scale(tf.k);\n    d3.select('#graph-contents').attr('transform', transform);\n    d3.select('#graph-field').call(interaction.zoom.transform, transform);\n  }\n  if (snapshot.hasOwnProperty('nodePositions')) {\n    d3.selectAll('.node').each((d, i) => {\n      d.x = snapshot.nodePositions[i].x;\n      d.y = snapshot.nodePositions[i].y;\n    });\n  }\n  control.updateNodeImage(snapshot);\n}\n\n\nfunction getCurrentGraph() {\n  return getCurrentTable().then(edges => {\n    return getTable(edges.nodeTableId).then(nodes => {\n      return {edges: edges, nodes: nodes};\n    });\n  });\n}\n\n\nfunction start() {\n  return getCurrentGraph().then(g => {\n    renderStatus(g.edges, refresh, abort);\n    const edgesToDraw = g.edges.records\n      .filter(e => e.weight >= g.edges.networkThreshold);\n    const edgeDensity = d3.format('.3e')(edgesToDraw.length / g.edges.searchCount);\n    d3.select('#edge-density').text(edgeDensity);\n    d3.select('#network-thld').text(g.edges.networkThreshold);\n    component.graphEdges(d3.select('#graph-contents'), edgesToDraw);\n    component.graphNodes(d3.select('#graph-contents'), g.nodes.records);\n    d3.select('#show-struct').property('checked', false);  // for fast loading\n    force.setForce(\n      g.nodes.records, edgesToDraw, force.tick,\n      () => {\n        force.end();\n        saveSnapshot();\n      });\n    if (g.edges.hasOwnProperty('snapshot')) {\n      resume(g.edges.snapshot);\n      interaction.stickNodes();\n    } else {\n      interaction.restart();\n    }\n    d3.select('#graph-contents').style('opacity', 1e-6)\n      .transition()\n      .duration(1000)\n      .style('opacity', 1);\n  });\n}\n\n\nfunction render() {\n  return getCurrentGraph().then(g => {\n    g.nodes.records.forEach(e => { delete e._mol; });\n    graphConfigDialog(g.edges, thld => {\n      return updateTableAttribute(g.edges.id, 'networkThreshold', thld)\n        .then(saveSnapshot).then(start);\n    });\n    communityDialog(query => {\n      const nodeIds = g.nodes.records.map(e => e._index);\n      const visibleEdges = g.edges.records\n        .filter(e => e.weight >= g.edges.networkThreshold);\n      const comm = community.communityDetection(\n        nodeIds, visibleEdges, {nulliso: query.nulliso}\n      );\n      const mapping = {\n        key: '_index',\n        column: {\n          key: query.name, name: query.name, sort: 'numeric', visible: true\n        },\n        mapping: comm\n      };\n      joinColumn(mapping, g.nodes.id)\n        .then(() => {\n          const snapshot = takeSnapshot();\n          snapshot.nodeColor.column = query.name;\n          snapshot.nodeColor.scale = colorPresets\n            .find(e => e.name === 'Categories').scale;\n          const currentId = getGlobalConfig('urlQuery').id;\n          return updateTableAttribute(currentId, 'snapshot', snapshot)\n            .then(() => console.info('snapshot saved'));\n        }).then(render);\n    });\n    control.mainControlBox();\n    control.nodeColorControlBox(g.nodes.columns);\n    control.nodeSizeControlBox(g.nodes.columns);\n    control.nodeLabelControlBox(g.nodes.columns);\n    control.edgeControlBox();\n    d3.select('#stick-nodes')\n      .on('change', function() {\n        formChecked(this) === true ? interaction.stickNodes() : interaction.relax();\n      });\n    d3.select('#nodetable').attr('href', `datatable.html?id=${g.edges.nodeTableId}`);\n    d3.select('#rename')\n      .on('click', () => {\n        d3.select('#prompt-title').text('Rename table');\n        d3.select('#prompt-label').text('New name');\n        d3.select('#prompt-input').attr('value', g.edges.name);\n        d3.select('#prompt-submit')\n          .on('click', () => {\n            const name = formValue('#prompt-input');\n            return updateTableAttribute(g.edges.id, 'name', name)\n              .then(getCurrentTable)\n              .then(t => renderStatus(t, refresh, abort));\n          });\n      });\n    return start();\n  });\n}\n\n\nfunction fetch_(command) {\n  return getCurrentTable().then(edges => {\n    if (!fetchable(edges)) return;\n    const query = { id: edges.id, command: command };\n    return localServer.getRecords(query).then(updateTable);\n  });\n}\n\n\nfunction refresh() {\n  return fetch_('update').then(isUpdated => {\n    if (isUpdated !== undefined) return start();\n  });\n}\n\n\nfunction abort() {\n  return fetch_('abort').then(isUpdated => {\n    if (isUpdated !== undefined) return start();\n  });\n}\n\n\nfunction loadNewGraph(grf) {\n  return Promise.all([\n    insertTable(grf.nodes),\n    insertTable(grf.edges)\n  ]).then(() => {\n    window.location = `graph.html?id=${grf.edges.id}`;\n  });\n}\n\n\nfunction run() {\n  d3.select('#export')\n    .on('click', () => {\n      // Working copy of edges and nodes are modified by d3.force.\n      // Load original data from store.\n      return getCurrentGraph().then(g => downloadJSON(g, g.edges.name));\n    });\n  d3.select('#graph-field')\n    .attr('viewBox', `0 0 ${force.fieldWidth} ${force.fieldHeight}`)\n    .call(interaction.zoom);\n  d3.select('#snapshot')\n    .on('click', saveSnapshot);\n  d3.select('#restart')\n    .on('click', interaction.restart);\n  d3.select('#import-json')\n    .on('click', () => document.getElementById('select-file').click());\n  d3.select('#select-file')\n    .on('change', () => {\n      const file = document.getElementById('select-file').files[0];\n      loadJSON(file).then(loadNewGraph);\n    });\n  if (getGlobalConfig('urlQuery').hasOwnProperty('location')) {\n    const url = getGlobalConfig('urlQuery').location;\n    return fetchJSON(url)\n      .then(tbls => {\n        return Promise.all([\n          insertTable(tbls.nodes),\n          insertTable(tbls.edges)\n        ]).then(() => tbls.edges.id);\n      })\n      .then(id => {\n        window.location = `graph.html?id=${id}`;\n      });\n  }\n  return loader().then(() => {\n    if (getGlobalConfig('urlQuery').hasOwnProperty('id')) {\n      initializeWithData();\n      return fetch_('update').then(render);\n    } else {\n      initialize();\n      return Promise.resolve();\n    }\n  });\n}\n\nexport default {\n  force, control, component, interaction, community, run\n};\n"],"names":["getResources","reset","localServer","initialize"],"mappings":"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"}